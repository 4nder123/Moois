"use strict";(self["webpackChunkMoois"]=self["webpackChunkMoois"]||[]).push([[294],{9294:function(e,t,l){l.r(t),l.d(t,{default:function(){return L}});var o=l(6768),a=l(5130);const s={class:"modal-background"},u={class:"modal"},d=["value"],n=["value"],i=["selected"],r=["checked"];function c(e,t,l,c,m,k){return(0,o.uX)(),(0,o.CE)("div",s,[(0,o.Lk)("div",u,[(0,o.Lk)("form",{onSubmit:t[3]||(t[3]=(0,a.D$)((...e)=>c.submit&&c.submit(...e),["prevent"]))},[t[10]||(t[10]=(0,o.Lk)("header",null,[(0,o.Lk)("button",{type:"submit",class:"close"},"×"),(0,o.Lk)("h2",null,"Seadmed")],-1)),(0,o.Lk)("section",null,[(0,o.Lk)("p",null,[t[4]||(t[4]=(0,o.eW)("Õis kalendri link: ",-1)),(0,o.Lk)("input",{name:"ois",type:"text",id:"ois",value:c.oisUrl,class:"modal-input",placeholder:"Õis"},null,8,d)]),(0,o.Lk)("p",null,[t[5]||(t[5]=(0,o.eW)("Moodle kalendri link: ",-1)),(0,o.Lk)("input",{name:"moodle",type:"text",value:c.moodleUrl,id:"moodle",placeholder:"Moodle",class:"modal-input"},null,8,n)]),(0,o.Lk)("p",null,[t[7]||(t[7]=(0,o.eW)("Põhivaade: ",-1)),(0,o.Lk)("select",{class:"pv-select",onChange:t[0]||(t[0]=(...e)=>this.changeDefaultPage&&this.changeDefaultPage(...e))},[t[6]||(t[6]=(0,o.Lk)("option",{value:"tunniplaan"},"Tunniplaan",-1)),(0,o.Lk)("option",{value:"kodutoo",selected:this.defaultPage()},"Kodutoo",8,i)],32)]),(0,o.Lk)("p",null,[t[8]||(t[8]=(0,o.eW)("Tume režiim: ",-1)),(0,o.Lk)("input",{type:"checkbox",onClick:t[1]||(t[1]=(...e)=>this.toggleDarkmode&&this.toggleDarkmode(...e)),checked:this.isDarkmode,id:"switch"},null,8,r),t[9]||(t[9]=(0,o.Lk)("label",{for:"switch"},"Toggle",-1))]),(0,o.Lk)("p",null,[(0,o.Lk)("button",{type:"button",class:"logout-button",onClick:t[2]||(t[2]=(...e)=>k.logout&&k.logout(...e))},"Logi välja")])])],32)])])}var m=l(144),k=l(4249),g={name:"SettingsModal",setup(e,{emit:t}){const l=(0,k.Pj)(),o=(0,m.KR)(l.getters["schedule/getUrl"]),a=(0,m.KR)(l.getters["homework/getUrl"]),s=e=>{const s=new FormData(e.target),u=Object.fromEntries(s.entries());let d=!1;o.value!==u.ois&&(l.dispatch("schedule/setUrl",{url:u.ois,update:!0}),d=!0),a.value!==u.moodle&&(l.dispatch("homework/setUrl",{url:u.moodle,update:!0}),d=!0),d&&(l.dispatch("resetLoading"),l.dispatch("fetchAllEvents")),t("close")};return{submit:s,oisUrl:o,moodleUrl:a}},computed:{isDarkmode(){return this.$store.getters.isDarkmode}},methods:{defaultPage(){return"true"===localStorage.getItem("defaultPage")},logout(){this.$emit("logout")},toggleDarkmode(){document.body.classList.contains("dark-mode")?document.body.classList.remove("dark-mode"):document.body.classList.add("dark-mode"),this.$store.dispatch("toggleDarkmode")},changeDefaultPage(){localStorage.setItem("defaultPage","true"===localStorage.getItem("defaultPage")?"false":"true")}}},h=l(1241);const p=(0,h.A)(g,[["render",c],["__scopeId","data-v-015ba145"]]);var L=p}}]);
//# sourceMappingURL=294.2cc31d70.js.map