{"version":3,"file":"js/294.6fa7dac6.js","mappings":"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","sources":["webpack://Moois/./src/components/settings.vue","webpack://Moois/./src/components/settings.vue?4ea3"],"sourcesContent":["<template>\r\n    <div class=\"modal-background\">\r\n        <div class=\"modal\">\r\n            <form @submit.prevent=\"submit\">\r\n                <header>\r\n                    <button type=\"submit\" class=\"close\">&times;</button>\r\n                    <h2>Seadmed</h2>\r\n                </header>\r\n                <section>\r\n                    <p>Õis kalendri link:\r\n                        <input \r\n                            name=\"ois\" \r\n                            type=\"text\" \r\n                            id=\"ois\" \r\n                            :value=\"oisUrl\" \r\n                            class=\"modal-input\" \r\n                            placeholder=\"Õis\"\r\n                        />\r\n                    </p>\r\n                    <p>Moodle kalendri link:\r\n                        <input \r\n                            name=\"moodle\" \r\n                            type=\"text\" \r\n                            :value=\"moodleUrl\" \r\n                            id=\"moodle\" \r\n                            placeholder=\"Moodle\" \r\n                            class=\"modal-input\"\r\n                        />\r\n                    </p>\r\n                    <p>Põhivaade:\r\n                        <select class=\"pv-select\" @change=\"this.changeDefaultPage\">\r\n                            <option value=\"tunniplaan\">Tunniplaan</option>\r\n                            <option value=\"kodutoo\" :selected=\"this.defaultPage()\" >Kodutoo</option>\r\n                        </select>\r\n                    </p>\r\n                    <p>Tume režiim:\r\n                        <input type=\"checkbox\" v-on:click=\"this.toggleDarkmode\" :checked=\"this.isDarkmode\" id=\"switch\" />\r\n                        <label for=\"switch\">Toggle</label>\r\n                    </p>\r\n                    <p>\r\n                        <button type=\"button\" class=\"logout-button\" @click=\"logout\">Logi välja</button>\r\n                    </p>\r\n                </section>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {ref} from 'vue';\r\n    import { useStore } from \"vuex\";\r\n\r\n    export default {\r\n        name: 'SettingsModal',\r\n        setup(_, { emit }) {\r\n            const store = useStore();\r\n            const oisUrl = ref(store.getters[\"schedule/getUrl\"]);\r\n            const moodleUrl = ref(store.getters[\"homework/getUrl\"]);\r\n            const submit = e => {\r\n                const form = new FormData(e.target);\r\n                const inputs = Object.fromEntries(form.entries());\r\n                let didUpdate = false;\r\n                if(oisUrl.value !== inputs.ois) { store.dispatch(\"schedule/setUrl\", {url:inputs.ois, update:true}); didUpdate = true; }\r\n                if(moodleUrl.value !== inputs.moodle) { store.dispatch(\"homework/setUrl\", {url:inputs.moodle, update:true}); didUpdate = true; }\r\n                if(didUpdate) { store.dispatch(\"resetLoading\"); store.dispatch(\"fetchAllEvents\"); }\r\n                emit('close');\r\n            };\r\n            return {\r\n                submit,\r\n                oisUrl,\r\n                moodleUrl\r\n            }\r\n        },\r\n        computed: {\r\n            isDarkmode() {\r\n                return this.$store.getters.isDarkmode;\r\n            }\r\n        },\r\n        methods: {\r\n            defaultPage() {\r\n                return localStorage.getItem('defaultPage') === 'true';\r\n            },\r\n            logout() {\r\n                this.$emit('logout');\r\n            },\r\n            toggleDarkmode() {\r\n                document.body.classList.contains(\"dark-mode\")? document.body.classList.remove(\"dark-mode\"): document.body.classList.add(\"dark-mode\");\r\n                this.$store.dispatch('toggleDarkmode');\r\n            },\r\n            changeDefaultPage() {\r\n                localStorage.setItem('defaultPage', localStorage.getItem('defaultPage') === 'true'? 'false' : 'true');\r\n            }\r\n        },\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n    .modal-background {\r\n        position: fixed;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        background-color: rgba(0, 0, 0, 0.5);\r\n        z-index: 999;\r\n    }\r\n\r\n    .modal {\r\n        margin: 10% auto;\r\n        max-width: 570px;\r\n        box-shadow: 0 5px 8px rgba(0, 0, 0, 0.2), 0 7px 20px rgba(0, 0, 0, 0.17);\r\n    }\r\n\r\n    .modal header {\r\n        background: #2c3e50;\r\n        padding: 15px;\r\n        color: #ffffff;\r\n        border-top-left-radius: 5px;\r\n        border-top-right-radius: 5px;\r\n    }\r\n\r\n    .modal header h2 {\r\n        margin: 0;\r\n    }\r\n\r\n    .modal section {\r\n        padding: 10px 20px;\r\n        background: #fff;\r\n    }\r\n\r\n    .close {\r\n        background: none;\r\n        border: none;\r\n        color: #fff;\r\n        font-size: 30px;\r\n        float: right;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .close:hover {\r\n        color: #000;\r\n    }\r\n\r\n    .logout-button {\r\n        background: #2c3e50;\r\n        color: #ffffff;\r\n        padding: 10px;\r\n        font-family: \"Roboto\", sans-serif;\r\n        text-transform: uppercase;\r\n        border: none;\r\n        border-radius: 4px;\r\n        font-size: 14px;\r\n    }\r\n    .logout-button:hover,.logout-button:active,.logout-button:focus {\r\n        background: #222f3d;\r\n    }\r\n    input[type=checkbox]{\r\n        height: 0;\r\n        width: 0;\r\n        visibility: hidden;\r\n    }\r\n\r\n\r\n    label[for=\"switch\"] {\r\n        cursor: pointer;\r\n        text-indent: -9999px;\r\n        width: 50px;\r\n        height: 30px;\r\n        background: grey;\r\n        display: block;\r\n        border-radius: 30px;\r\n        position: relative;\r\n    }\r\n\r\n    label[for=\"switch\"]:after {\r\n        content: '';\r\n        position: absolute;\r\n        top: 5px;\r\n        left: 5px;\r\n        width: 20px;\r\n        height: 20px;\r\n        background: #fff;\r\n        border-radius: 20px;\r\n        transition: 0.3s;\r\n    }\r\n\r\n    input:checked + label[for=\"switch\"] {\r\n        background: #2c3e50;\r\n    }\r\n\r\n    input:checked + label[for=\"switch\"]:after {\r\n        left: calc(100% - 5px);\r\n        transform: translateX(-100%);\r\n    }\r\n\r\n    .pv-select {\r\n        font-family: \"Roboto\", sans-serif;\r\n        background: #f0f0f0;\r\n        width: 100%;\r\n        border: none;\r\n        font-size: 14px;\r\n        color:black;\r\n        box-sizing: border-box;\r\n        border-radius: 4px;\r\n        -webkit-border-radius: 4px;\r\n        height: 48px;\r\n        text-indent: 11px;\r\n    }\r\n\r\n    .pv-select:focus {\r\n        outline: none;\r\n    }\r\n</style>\r\n","import { render } from \"./settings.vue?vue&type=template&id=015ba145&scoped=true\"\nimport script from \"./settings.vue?vue&type=script&lang=js\"\nexport * from \"./settings.vue?vue&type=script&lang=js\"\n\nimport \"./settings.vue?vue&type=style&index=0&id=015ba145&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-015ba145\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onSubmit","_cache","_withModifiers","args","$setup","submit","type","name","id","value","oisUrl","placeholder","moodleUrl","onChange","changeDefaultPage","selected","defaultPage","_hoisted_5","onClick","toggleDarkmode","checked","isDarkmode","for","$options","logout","setup","_","emit","store","useStore","ref","getters","e","form","FormData","target","inputs","Object","fromEntries","entries","didUpdate","ois","dispatch","url","update","moodle","computed","this","$store","methods","localStorage","getItem","$emit","document","body","classList","contains","remove","add","setItem","__exports__","render"],"sourceRoot":""}