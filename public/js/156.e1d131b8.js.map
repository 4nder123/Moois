{"version":3,"file":"js/156.e1d131b8.js","mappings":"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","sources":["webpack://Moois/./node_modules/core-js/modules/es.async-iterator.async-dispose.js","webpack://Moois/./node_modules/core-js/internals/well-known-symbol-define.js","webpack://Moois/./node_modules/core-js/internals/error-stack-install.js","webpack://Moois/./node_modules/core-js/internals/well-known-symbol-wrapped.js","webpack://Moois/./node_modules/core-js/internals/async-iterator-prototype.js","webpack://Moois/./node_modules/core-js/modules/es.symbol.async-dispose.js","webpack://Moois/./node_modules/core-js/internals/error-stack-installable.js","webpack://Moois/./node_modules/core-js/modules/es.iterator.dispose.js","webpack://Moois/./node_modules/core-js/modules/es.symbol.dispose.js","webpack://Moois/./node_modules/@fullcalendar/rrule/index.js","webpack://Moois/./node_modules/core-js/modules/es.suppressed-error.constructor.js","webpack://Moois/./node_modules/core-js/internals/path.js","webpack://Moois/./node_modules/@fullcalendar/daygrid/internal.js","webpack://Moois/./node_modules/@fullcalendar/timegrid/internal.js","webpack://Moois/./node_modules/@fullcalendar/timegrid/index.js"],"sourcesContent":["'use strict';\n// https://github.com/tc39/proposal-async-explicit-resource-management\nvar call = require('../internals/function-call');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar getBuiltIn = require('../internals/get-built-in');\nvar getMethod = require('../internals/get-method');\nvar hasOwn = require('../internals/has-own-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar AsyncIteratorPrototype = require('../internals/async-iterator-prototype');\n\nvar ASYNC_DISPOSE = wellKnownSymbol('asyncDispose');\nvar Promise = getBuiltIn('Promise');\n\nif (!hasOwn(AsyncIteratorPrototype, ASYNC_DISPOSE)) {\n  defineBuiltIn(AsyncIteratorPrototype, ASYNC_DISPOSE, function () {\n    var O = this;\n    return new Promise(function (resolve, reject) {\n      var $return = getMethod(O, 'return');\n      if ($return) {\n        Promise.resolve(call($return, O)).then(function () {\n          resolve(undefined);\n        }, reject);\n      } else resolve(undefined);\n    });\n  });\n}\n","'use strict';\nvar path = require('../internals/path');\nvar hasOwn = require('../internals/has-own-property');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!hasOwn(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","'use strict';\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar clearErrorStack = require('../internals/error-stack-clear');\nvar ERROR_STACK_INSTALLABLE = require('../internals/error-stack-installable');\n\n// non-standard V8\n// eslint-disable-next-line es/no-nonstandard-error-properties -- safe\nvar captureStackTrace = Error.captureStackTrace;\n\nmodule.exports = function (error, C, stack, dropEntries) {\n  if (ERROR_STACK_INSTALLABLE) {\n    if (captureStackTrace) captureStackTrace(error, C);\n    else createNonEnumerableProperty(error, 'stack', clearErrorStack(stack, dropEntries));\n  }\n};\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nexports.f = wellKnownSymbol;\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar shared = require('../internals/shared-store');\nvar isCallable = require('../internals/is-callable');\nvar create = require('../internals/object-create');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar USE_FUNCTION_CONSTRUCTOR = 'USE_FUNCTION_CONSTRUCTOR';\nvar ASYNC_ITERATOR = wellKnownSymbol('asyncIterator');\nvar AsyncIterator = globalThis.AsyncIterator;\nvar PassedAsyncIteratorPrototype = shared.AsyncIteratorPrototype;\nvar AsyncIteratorPrototype, prototype;\n\nif (PassedAsyncIteratorPrototype) {\n  AsyncIteratorPrototype = PassedAsyncIteratorPrototype;\n} else if (isCallable(AsyncIterator)) {\n  AsyncIteratorPrototype = AsyncIterator.prototype;\n} else if (shared[USE_FUNCTION_CONSTRUCTOR] || globalThis[USE_FUNCTION_CONSTRUCTOR]) {\n  try {\n    // eslint-disable-next-line no-new-func -- we have no alternatives without usage of modern syntax\n    prototype = getPrototypeOf(getPrototypeOf(getPrototypeOf(Function('return async function*(){}()')())));\n    if (getPrototypeOf(prototype) === Object.prototype) AsyncIteratorPrototype = prototype;\n  } catch (error) { /* empty */ }\n}\n\nif (!AsyncIteratorPrototype) AsyncIteratorPrototype = {};\nelse if (IS_PURE) AsyncIteratorPrototype = create(AsyncIteratorPrototype);\n\nif (!isCallable(AsyncIteratorPrototype[ASYNC_ITERATOR])) {\n  defineBuiltIn(AsyncIteratorPrototype, ASYNC_ITERATOR, function () {\n    return this;\n  });\n}\n\nmodule.exports = AsyncIteratorPrototype;\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar defineWellKnownSymbol = require('../internals/well-known-symbol-define');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\n\nvar Symbol = globalThis.Symbol;\n\n// `Symbol.asyncDispose` well-known symbol\n// https://github.com/tc39/proposal-async-explicit-resource-management\ndefineWellKnownSymbol('asyncDispose');\n\nif (Symbol) {\n  var descriptor = getOwnPropertyDescriptor(Symbol, 'asyncDispose');\n  // workaround of NodeJS 20.4 bug\n  // https://github.com/nodejs/node/issues/48699\n  // and incorrect descriptor from some transpilers and userland helpers\n  if (descriptor.enumerable && descriptor.configurable && descriptor.writable) {\n    defineProperty(Symbol, 'asyncDispose', { value: descriptor.value, enumerable: false, configurable: false, writable: false });\n  }\n}\n","'use strict';\nvar fails = require('../internals/fails');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = !fails(function () {\n  var error = new Error('a');\n  if (!('stack' in error)) return true;\n  // eslint-disable-next-line es/no-object-defineproperty -- safe\n  Object.defineProperty(error, 'stack', createPropertyDescriptor(1, 7));\n  return error.stack !== 7;\n});\n","'use strict';\n// https://github.com/tc39/proposal-explicit-resource-management\nvar call = require('../internals/function-call');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar getMethod = require('../internals/get-method');\nvar hasOwn = require('../internals/has-own-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\n\nvar DISPOSE = wellKnownSymbol('dispose');\n\nif (!hasOwn(IteratorPrototype, DISPOSE)) {\n  defineBuiltIn(IteratorPrototype, DISPOSE, function () {\n    var $return = getMethod(this, 'return');\n    if ($return) call($return, this);\n  });\n}\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar defineWellKnownSymbol = require('../internals/well-known-symbol-define');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\n\nvar Symbol = globalThis.Symbol;\n\n// `Symbol.dispose` well-known symbol\n// https://github.com/tc39/proposal-explicit-resource-management\ndefineWellKnownSymbol('dispose');\n\nif (Symbol) {\n  var descriptor = getOwnPropertyDescriptor(Symbol, 'dispose');\n  // workaround of NodeJS 20.4 bug\n  // https://github.com/nodejs/node/issues/48699\n  // and incorrect descriptor from some transpilers and userland helpers\n  if (descriptor.enumerable && descriptor.configurable && descriptor.writable) {\n    defineProperty(Symbol, 'dispose', { value: descriptor.value, enumerable: false, configurable: false, writable: false });\n  }\n}\n","import { createPlugin } from '@fullcalendar/core/index.js';\nimport * as rruleLib from 'rrule';\nimport { addDays, parseMarker, identity, createDuration } from '@fullcalendar/core/internal.js';\n\nconst recurringType = {\n    parse(eventProps, dateEnv) {\n        if (eventProps.rrule != null) {\n            let eventRRuleData = parseEventRRule(eventProps, dateEnv);\n            if (eventRRuleData) {\n                return {\n                    typeData: {\n                        rruleSet: eventRRuleData.rruleSet,\n                        dateEnv: eventRRuleData.isTimeZoneSpecified ? undefined : dateEnv,\n                    },\n                    allDayGuess: !eventRRuleData.isTimeSpecified,\n                    duration: eventProps.duration,\n                };\n            }\n        }\n        return null;\n    },\n    expand(eventRRuleData, framingRange, calendarDateEnv) {\n        return eventRRuleData.rruleSet.between(\n        // Add one-day leeway since rrule lib only operates in UTC,\n        // but the zoned variant of framingRange is not.\n        // Also overcomes this rrule bug:\n        // https://github.com/jakubroztocil/rrule/issues/84)\n        addDays(framingRange.start, -1), addDays(framingRange.end, 1)).map((date) => {\n            // convert to plain-datetime\n            return calendarDateEnv.createMarker(\n            // convert to epoch-milliseconds in original timezone\n            eventRRuleData.dateEnv\n                ? eventRRuleData.dateEnv.toDate(date)\n                : date);\n        });\n    },\n};\nfunction parseEventRRule(eventProps, dateEnv) {\n    let rruleSet;\n    let isTimeSpecified = false;\n    let isTimeZoneSpecified = false;\n    if (typeof eventProps.rrule === 'string') {\n        let res = parseRRuleString(eventProps.rrule);\n        rruleSet = res.rruleSet;\n        isTimeSpecified = res.isTimeSpecified;\n        isTimeZoneSpecified = res.isTimeZoneSpecified;\n    }\n    if (typeof eventProps.rrule === 'object' && eventProps.rrule) { // non-null object\n        let res = parseRRuleObject(eventProps.rrule, dateEnv);\n        rruleSet = new rruleLib.RRuleSet();\n        rruleSet.rrule(res.rrule);\n        isTimeSpecified = res.isTimeSpecified;\n        isTimeZoneSpecified = res.isTimeZoneSpecified;\n    }\n    // convery to arrays. TODO: general util?\n    let exdateInputs = [].concat(eventProps.exdate || []);\n    let exruleInputs = [].concat(eventProps.exrule || []);\n    for (let exdateInput of exdateInputs) {\n        let res = parseMarker(exdateInput);\n        isTimeSpecified = isTimeSpecified || !res.isTimeUnspecified;\n        isTimeZoneSpecified = isTimeZoneSpecified || res.timeZoneOffset !== null;\n        rruleSet.exdate(new Date(res.marker.valueOf() - (res.timeZoneOffset || 0) * 60 * 1000));\n    }\n    // TODO: exrule is deprecated. what to do? (https://icalendar.org/iCalendar-RFC-5545/a-3-deprecated-features.html)\n    for (let exruleInput of exruleInputs) {\n        let res = parseRRuleObject(exruleInput, dateEnv);\n        isTimeSpecified = isTimeSpecified || res.isTimeSpecified;\n        isTimeZoneSpecified = isTimeZoneSpecified || res.isTimeZoneSpecified;\n        rruleSet.exrule(res.rrule);\n    }\n    return { rruleSet, isTimeSpecified, isTimeZoneSpecified };\n}\nfunction parseRRuleObject(rruleInput, dateEnv) {\n    let isTimeSpecified = false;\n    let isTimeZoneSpecified = false;\n    function processDateInput(dateInput) {\n        if (typeof dateInput === 'string') {\n            let markerData = parseMarker(dateInput);\n            if (markerData) {\n                isTimeSpecified = isTimeSpecified || !markerData.isTimeUnspecified;\n                isTimeZoneSpecified = isTimeZoneSpecified || markerData.timeZoneOffset !== null;\n                return new Date(markerData.marker.valueOf() - (markerData.timeZoneOffset || 0) * 60 * 1000); // NOT DRY\n            }\n            return null;\n        }\n        return dateInput; // TODO: what about number timestamps?\n    }\n    let rruleOptions = Object.assign(Object.assign({}, rruleInput), { dtstart: processDateInput(rruleInput.dtstart), until: processDateInput(rruleInput.until), freq: convertConstant(rruleInput.freq), wkst: rruleInput.wkst == null\n            ? (dateEnv.weekDow - 1 + 7) % 7 // convert Sunday-first to Monday-first\n            : convertConstant(rruleInput.wkst), byweekday: convertConstants(rruleInput.byweekday) });\n    return { rrule: new rruleLib.RRule(rruleOptions), isTimeSpecified, isTimeZoneSpecified };\n}\nfunction parseRRuleString(str) {\n    let rruleSet = rruleLib.rrulestr(str, { forceset: true });\n    let analysis = analyzeRRuleString(str);\n    return Object.assign({ rruleSet }, analysis);\n}\nfunction analyzeRRuleString(str) {\n    let isTimeSpecified = false;\n    let isTimeZoneSpecified = false;\n    function processMatch(whole, introPart, datePart) {\n        let result = parseMarker(datePart);\n        isTimeSpecified = isTimeSpecified || !result.isTimeUnspecified;\n        isTimeZoneSpecified = isTimeZoneSpecified || result.timeZoneOffset !== null;\n    }\n    str.replace(/\\b(DTSTART:)([^\\n]*)/, processMatch);\n    str.replace(/\\b(EXDATE:)([^\\n]*)/, processMatch);\n    str.replace(/\\b(UNTIL=)([^;\\n]*)/, processMatch);\n    return { isTimeSpecified, isTimeZoneSpecified };\n}\nfunction convertConstants(input) {\n    if (Array.isArray(input)) {\n        return input.map(convertConstant);\n    }\n    return convertConstant(input);\n}\nfunction convertConstant(input) {\n    if (typeof input === 'string') {\n        return rruleLib.RRule[input.toUpperCase()];\n    }\n    return input;\n}\n\nconst RRULE_EVENT_REFINERS = {\n    rrule: identity,\n    exrule: identity,\n    exdate: identity,\n    duration: createDuration,\n};\n\nvar index = createPlugin({\n    name: '@fullcalendar/rrule',\n    recurringTypes: [recurringType],\n    eventRefiners: RRULE_EVENT_REFINERS,\n});\n\nexport { index as default };\n","'use strict';\nvar $ = require('../internals/export');\nvar globalThis = require('../internals/global-this');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar create = require('../internals/object-create');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar installErrorStack = require('../internals/error-stack-install');\nvar normalizeStringArgument = require('../internals/normalize-string-argument');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar fails = require('../internals/fails');\nvar IS_PURE = require('../internals/is-pure');\n\nvar NativeSuppressedError = globalThis.SuppressedError;\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar $Error = Error;\n\n// https://github.com/oven-sh/bun/issues/9282\nvar WRONG_ARITY = !!NativeSuppressedError && NativeSuppressedError.length !== 3;\n\n// https://github.com/oven-sh/bun/issues/9283\nvar EXTRA_ARGS_SUPPORT = !!NativeSuppressedError && fails(function () {\n  return new NativeSuppressedError(1, 2, 3, { cause: 4 }).cause === 4;\n});\n\nvar PATCH = WRONG_ARITY || EXTRA_ARGS_SUPPORT;\n\nvar $SuppressedError = function SuppressedError(error, suppressed, message) {\n  var isInstance = isPrototypeOf(SuppressedErrorPrototype, this);\n  var that;\n  if (setPrototypeOf) {\n    that = PATCH && (!isInstance || getPrototypeOf(this) === SuppressedErrorPrototype)\n      ? new NativeSuppressedError()\n      : setPrototypeOf(new $Error(), isInstance ? getPrototypeOf(this) : SuppressedErrorPrototype);\n  } else {\n    that = isInstance ? this : create(SuppressedErrorPrototype);\n    createNonEnumerableProperty(that, TO_STRING_TAG, 'Error');\n  }\n  if (message !== undefined) createNonEnumerableProperty(that, 'message', normalizeStringArgument(message));\n  installErrorStack(that, $SuppressedError, that.stack, 1);\n  createNonEnumerableProperty(that, 'error', error);\n  createNonEnumerableProperty(that, 'suppressed', suppressed);\n  return that;\n};\n\nif (setPrototypeOf) setPrototypeOf($SuppressedError, $Error);\nelse copyConstructorProperties($SuppressedError, $Error, { name: true });\n\nvar SuppressedErrorPrototype = $SuppressedError.prototype = PATCH ? NativeSuppressedError.prototype : create($Error.prototype, {\n  constructor: createPropertyDescriptor(1, $SuppressedError),\n  message: createPropertyDescriptor(1, ''),\n  name: createPropertyDescriptor(1, 'SuppressedError')\n});\n\nif (PATCH && !IS_PURE) SuppressedErrorPrototype.constructor = $SuppressedError;\n\n// `SuppressedError` constructor\n// https://github.com/tc39/proposal-explicit-resource-management\n$({ global: true, constructor: true, arity: 3, forced: PATCH }, {\n  SuppressedError: $SuppressedError\n});\n","'use strict';\nvar globalThis = require('../internals/global-this');\n\nmodule.exports = globalThis;\n","import { DateComponent, getStickyHeaderDates, ViewContainer, SimpleScrollGrid, getStickyFooterScrollbar, renderScrollShim, createFormatter, BaseComponent, StandardEvent, buildSegTimeText, EventContainer, getSegAnchorAttrs, memoize, MoreLinkContainer, getSegMeta, getUniqueDomId, setRef, DayCellContainer, WeekNumberContainer, buildNavLinkAttrs, hasCustomDayCellContent, addMs, intersectRanges, addDays, SegHierarchy, buildEntryKey, intersectSpans, RefMap, sortEventSegs, isPropsEqual, buildEventRangeKey, BgEvent, renderFill, PositionCache, NowTimer, formatIsoMonthStr, formatDayString, Slicer, DayHeader, DaySeriesModel, DayTableModel, DateProfileGenerator, addWeeks, diffWeeks, injectStyles } from '@fullcalendar/core/internal.js';\nimport { createRef, createElement, Fragment } from '@fullcalendar/core/preact.js';\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nclass TableView extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.headerElRef = createRef();\n    }\n    renderSimpleLayout(headerRowContent, bodyContent) {\n        let { props, context } = this;\n        let sections = [];\n        let stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunk: { content: bodyContent },\n        });\n        return (createElement(ViewContainer, { elClasses: ['fc-daygrid'], viewSpec: context.viewSpec },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [] /* TODO: make optional? */, sections: sections })));\n    }\n    renderHScrollLayout(headerRowContent, bodyContent, colCnt, dayMinWidth) {\n        let ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        let { props, context } = this;\n        let stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        let stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        let sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunks: [{\n                        key: 'main',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    }],\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunks: [{\n                    key: 'main',\n                    content: bodyContent,\n                }],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                type: 'footer',\n                key: 'footer',\n                isSticky: true,\n                chunks: [{\n                        key: 'main',\n                        content: renderScrollShim,\n                    }],\n            });\n        }\n        return (createElement(ViewContainer, { elClasses: ['fc-daygrid'], viewSpec: context.viewSpec },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, forPrint: props.forPrint, collapsibleWidth: props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections })));\n    }\n}\n\nfunction splitSegsByRow(segs, rowCnt) {\n    let byRow = [];\n    for (let i = 0; i < rowCnt; i += 1) {\n        byRow[i] = [];\n    }\n    for (let seg of segs) {\n        byRow[seg.row].push(seg);\n    }\n    return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n    let byCol = [];\n    for (let i = 0; i < colCnt; i += 1) {\n        byCol[i] = [];\n    }\n    for (let seg of segs) {\n        byCol[seg.firstCol].push(seg);\n    }\n    return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n    let byRow = [];\n    if (!ui) {\n        for (let i = 0; i < rowCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (let i = 0; i < rowCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (let seg of ui.segs) {\n            byRow[seg.row].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nconst DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'narrow',\n});\nfunction hasListItemDisplay(seg) {\n    let { display } = seg.eventRange.ui;\n    return display === 'list-item' || (display === 'auto' &&\n        !seg.eventRange.def.allDay &&\n        seg.firstCol === seg.lastCol && // can't be multi-day\n        seg.isStart && // \"\n        seg.isEnd // \"\n    );\n}\n\nclass TableBlockEvent extends BaseComponent {\n    render() {\n        let { props } = this;\n        return (createElement(StandardEvent, Object.assign({}, props, { elClasses: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n    }\n}\n\nclass TableListItemEvent extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let { seg } = props;\n        let timeFormat = options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n        let timeText = buildSegTimeText(seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n        return (createElement(EventContainer, Object.assign({}, props, { elTag: \"a\", elClasses: ['fc-daygrid-event', 'fc-daygrid-dot-event'], elAttrs: getSegAnchorAttrs(props.seg, context), defaultGenerator: renderInnerContent, timeText: timeText, isResizing: false, isDateSelecting: false })));\n    }\n}\nfunction renderInnerContent(renderProps) {\n    return (createElement(Fragment, null,\n        createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: renderProps.borderColor || renderProps.backgroundColor } }),\n        renderProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, renderProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title\" }, renderProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n}\n\nclass TableCellMoreLink extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.compileSegs = memoize(compileSegs);\n    }\n    render() {\n        let { props } = this;\n        let { allSegs, invisibleSegs } = this.compileSegs(props.singlePlacements);\n        return (createElement(MoreLinkContainer, { elClasses: ['fc-daygrid-more-link'], dateProfile: props.dateProfile, todayRange: props.todayRange, allDayDate: props.allDayDate, moreCnt: props.moreCnt, allSegs: allSegs, hiddenSegs: invisibleSegs, alignmentElRef: props.alignmentElRef, alignGridTop: props.alignGridTop, extraDateSpan: props.extraDateSpan, popoverContent: () => {\n                let isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                    (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                    {};\n                return (createElement(Fragment, null, allSegs.map((seg) => {\n                    let instanceId = seg.eventRange.instance.instanceId;\n                    return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\n                            visibility: isForcedInvisible[instanceId] ? 'hidden' : '',\n                        } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, Object.assign({ seg: seg, isDragging: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange)))) : (createElement(TableBlockEvent, Object.assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange))))));\n                })));\n            } }));\n    }\n}\nfunction compileSegs(singlePlacements) {\n    let allSegs = [];\n    let invisibleSegs = [];\n    for (let placement of singlePlacements) {\n        allSegs.push(placement.seg);\n        if (!placement.isVisible) {\n            invisibleSegs.push(placement.seg);\n        }\n    }\n    return { allSegs, invisibleSegs };\n}\n\nconst DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\nclass TableCell extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.rootElRef = createRef();\n        this.state = {\n            dayNumberId: getUniqueDomId(),\n        };\n        this.handleRootEl = (el) => {\n            setRef(this.rootElRef, el);\n            setRef(this.props.elRef, el);\n        };\n    }\n    render() {\n        let { context, props, state, rootElRef } = this;\n        let { options, dateEnv } = context;\n        let { date, dateProfile } = props;\n        // TODO: memoize this?\n        const isMonthStart = props.showDayNumber &&\n            shouldDisplayMonthStart(date, dateProfile.currentRange, dateEnv);\n        return (createElement(DayCellContainer, { elTag: \"td\", elRef: this.handleRootEl, elClasses: [\n                'fc-daygrid-day',\n                ...(props.extraClassNames || []),\n            ], elAttrs: Object.assign(Object.assign(Object.assign({}, props.extraDataAttrs), (props.showDayNumber ? { 'aria-labelledby': state.dayNumberId } : {})), { role: 'gridcell' }), defaultGenerator: renderTopInner, date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, isMonthStart: isMonthStart, extraRenderProps: props.extraRenderProps }, (InnerContent, renderProps) => (createElement(\"div\", { ref: props.innerElRef, className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", style: { minHeight: props.minHeight } },\n            props.showWeekNumber && (createElement(WeekNumberContainer, { elTag: \"a\", elClasses: ['fc-daygrid-week-number'], elAttrs: buildNavLinkAttrs(context, date, 'week'), date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT })),\n            !renderProps.isDisabled &&\n                (props.showDayNumber || hasCustomDayCellContent(options) || props.forceDayTop) ? (createElement(\"div\", { className: \"fc-daygrid-day-top\" },\n                createElement(InnerContent, { elTag: \"a\", elClasses: [\n                        'fc-daygrid-day-number',\n                        isMonthStart && 'fc-daygrid-month-start',\n                    ], elAttrs: Object.assign(Object.assign({}, buildNavLinkAttrs(context, date)), { id: state.dayNumberId }) }))) : props.showDayNumber ? (\n            // for creating correct amount of space (see issue #7162)\n            createElement(\"div\", { className: \"fc-daygrid-day-top\", style: { visibility: 'hidden' } },\n                createElement(\"a\", { className: \"fc-daygrid-day-number\" }, \"\\u00A0\"))) : undefined,\n            createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef },\n                props.fgContent,\n                createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\n                    createElement(TableCellMoreLink, { allDayDate: date, singlePlacements: props.singlePlacements, moreCnt: props.moreCnt, alignmentElRef: rootElRef, alignGridTop: !props.showDayNumber, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange }))),\n            createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent)))));\n    }\n}\nfunction renderTopInner(props) {\n    return props.dayNumberText || createElement(Fragment, null, \"\\u00A0\");\n}\nfunction shouldDisplayMonthStart(date, currentRange, dateEnv) {\n    const { start: currentStart, end: currentEnd } = currentRange;\n    const currentEndIncl = addMs(currentEnd, -1);\n    const currentFirstYear = dateEnv.getYear(currentStart);\n    const currentFirstMonth = dateEnv.getMonth(currentStart);\n    const currentLastYear = dateEnv.getYear(currentEndIncl);\n    const currentLastMonth = dateEnv.getMonth(currentEndIncl);\n    // spans more than one month?\n    return !(currentFirstYear === currentLastYear && currentFirstMonth === currentLastMonth) &&\n        Boolean(\n        // first date in current view?\n        date.valueOf() === currentStart.valueOf() ||\n            // a month-start that's within the current range?\n            (dateEnv.getDay(date) === 1 && date.valueOf() < currentEnd.valueOf()));\n}\n\nfunction generateSegKey(seg) {\n    return seg.eventRange.instance.instanceId + ':' + seg.firstCol;\n}\nfunction generateSegUid(seg) {\n    return generateSegKey(seg) + ':' + seg.lastCol;\n}\nfunction computeFgSegPlacement(segs, // assumed already sorted\ndayMaxEvents, dayMaxEventRows, strictOrder, segHeights, maxContentHeight, cells) {\n    let hierarchy = new DayGridSegHierarchy((segEntry) => {\n        // TODO: more DRY with generateSegUid\n        let segUid = segs[segEntry.index].eventRange.instance.instanceId +\n            ':' + segEntry.span.start +\n            ':' + (segEntry.span.end - 1);\n        // if no thickness known, assume 1 (if 0, so small it always fits)\n        return segHeights[segUid] || 1;\n    });\n    hierarchy.allowReslicing = true;\n    hierarchy.strictOrder = strictOrder;\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\n        hierarchy.maxCoord = maxContentHeight;\n        hierarchy.hiddenConsumes = true;\n    }\n    else if (typeof dayMaxEvents === 'number') {\n        hierarchy.maxStackCnt = dayMaxEvents;\n    }\n    else if (typeof dayMaxEventRows === 'number') {\n        hierarchy.maxStackCnt = dayMaxEventRows;\n        hierarchy.hiddenConsumes = true;\n    }\n    // create segInputs only for segs with known heights\n    let segInputs = [];\n    let unknownHeightSegs = [];\n    for (let i = 0; i < segs.length; i += 1) {\n        let seg = segs[i];\n        let segUid = generateSegUid(seg);\n        let eventHeight = segHeights[segUid];\n        if (eventHeight != null) {\n            segInputs.push({\n                index: i,\n                span: {\n                    start: seg.firstCol,\n                    end: seg.lastCol + 1,\n                },\n            });\n        }\n        else {\n            unknownHeightSegs.push(seg);\n        }\n    }\n    let hiddenEntries = hierarchy.addSegs(segInputs);\n    let segRects = hierarchy.toRects();\n    let { singleColPlacements, multiColPlacements, leftoverMargins } = placeRects(segRects, segs, cells);\n    let moreCnts = [];\n    let moreMarginTops = [];\n    // add segs with unknown heights\n    for (let seg of unknownHeightSegs) {\n        multiColPlacements[seg.firstCol].push({\n            seg,\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (let col = seg.firstCol; col <= seg.lastCol; col += 1) {\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // add the hidden entries\n    for (let col = 0; col < cells.length; col += 1) {\n        moreCnts.push(0);\n    }\n    for (let hiddenEntry of hiddenEntries) {\n        let seg = segs[hiddenEntry.index];\n        let hiddenSpan = hiddenEntry.span;\n        multiColPlacements[hiddenSpan.start].push({\n            seg: resliceSeg(seg, hiddenSpan.start, hiddenSpan.end, cells),\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (let col = hiddenSpan.start; col < hiddenSpan.end; col += 1) {\n            moreCnts[col] += 1;\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // deal with leftover margins\n    for (let col = 0; col < cells.length; col += 1) {\n        moreMarginTops.push(leftoverMargins[col]);\n    }\n    return { singleColPlacements, multiColPlacements, moreCnts, moreMarginTops };\n}\n// rects ordered by top coord, then left\nfunction placeRects(allRects, segs, cells) {\n    let rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\n    let singleColPlacements = [];\n    let multiColPlacements = [];\n    let leftoverMargins = [];\n    for (let col = 0; col < cells.length; col += 1) {\n        let rects = rectsByEachCol[col];\n        // compute all static segs in singlePlacements\n        let singlePlacements = [];\n        let currentHeight = 0;\n        let currentMarginTop = 0;\n        for (let rect of rects) {\n            let seg = segs[rect.index];\n            singlePlacements.push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: true,\n                isAbsolute: false,\n                absoluteTop: rect.levelCoord,\n                marginTop: rect.levelCoord - currentHeight,\n            });\n            currentHeight = rect.levelCoord + rect.thickness;\n        }\n        // compute mixed static/absolute segs in multiPlacements\n        let multiPlacements = [];\n        currentHeight = 0;\n        currentMarginTop = 0;\n        for (let rect of rects) {\n            let seg = segs[rect.index];\n            let isAbsolute = rect.span.end - rect.span.start > 1; // multi-column?\n            let isFirstCol = rect.span.start === col;\n            currentMarginTop += rect.levelCoord - currentHeight; // amount of space since bottom of previous seg\n            currentHeight = rect.levelCoord + rect.thickness; // height will now be bottom of current seg\n            if (isAbsolute) {\n                currentMarginTop += rect.thickness;\n                if (isFirstCol) {\n                    multiPlacements.push({\n                        seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                        isVisible: true,\n                        isAbsolute: true,\n                        absoluteTop: rect.levelCoord,\n                        marginTop: 0,\n                    });\n                }\n            }\n            else if (isFirstCol) {\n                multiPlacements.push({\n                    seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                    isVisible: true,\n                    isAbsolute: false,\n                    absoluteTop: rect.levelCoord,\n                    marginTop: currentMarginTop, // claim the margin\n                });\n                currentMarginTop = 0;\n            }\n        }\n        singleColPlacements.push(singlePlacements);\n        multiColPlacements.push(multiPlacements);\n        leftoverMargins.push(currentMarginTop);\n    }\n    return { singleColPlacements, multiColPlacements, leftoverMargins };\n}\nfunction groupRectsByEachCol(rects, colCnt) {\n    let rectsByEachCol = [];\n    for (let col = 0; col < colCnt; col += 1) {\n        rectsByEachCol.push([]);\n    }\n    for (let rect of rects) {\n        for (let col = rect.span.start; col < rect.span.end; col += 1) {\n            rectsByEachCol[col].push(rect);\n        }\n    }\n    return rectsByEachCol;\n}\nfunction resliceSeg(seg, spanStart, spanEnd, cells) {\n    if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {\n        return seg;\n    }\n    let eventRange = seg.eventRange;\n    let origRange = eventRange.range;\n    let slicedRange = intersectRanges(origRange, {\n        start: cells[spanStart].date,\n        end: addDays(cells[spanEnd - 1].date, 1),\n    });\n    return Object.assign(Object.assign({}, seg), { firstCol: spanStart, lastCol: spanEnd - 1, eventRange: {\n            def: eventRange.def,\n            ui: Object.assign(Object.assign({}, eventRange.ui), { durationEditable: false }),\n            instance: eventRange.instance,\n            range: slicedRange,\n        }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() });\n}\nclass DayGridSegHierarchy extends SegHierarchy {\n    constructor() {\n        super(...arguments);\n        // config\n        this.hiddenConsumes = false;\n        // allows us to keep hidden entries in the hierarchy so they take up space\n        this.forceHidden = {};\n    }\n    addSegs(segInputs) {\n        const hiddenSegs = super.addSegs(segInputs);\n        const { entriesByLevel } = this;\n        const excludeHidden = (entry) => !this.forceHidden[buildEntryKey(entry)];\n        // remove the forced-hidden segs\n        for (let level = 0; level < entriesByLevel.length; level += 1) {\n            entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);\n        }\n        return hiddenSegs;\n    }\n    handleInvalidInsertion(insertion, entry, hiddenEntries) {\n        const { entriesByLevel, forceHidden } = this;\n        const { touchingEntry, touchingLevel, touchingLateral } = insertion;\n        // the entry that the new insertion is touching must be hidden\n        if (this.hiddenConsumes && touchingEntry) {\n            const touchingEntryId = buildEntryKey(touchingEntry);\n            if (!forceHidden[touchingEntryId]) {\n                if (this.allowReslicing) {\n                    // split up the touchingEntry, reinsert it\n                    const hiddenEntry = Object.assign(Object.assign({}, touchingEntry), { span: intersectSpans(touchingEntry.span, entry.span) });\n                    // reinsert the area that turned into a \"more\" link (so no other entries try to\n                    // occupy the space) but mark it forced-hidden\n                    const hiddenEntryId = buildEntryKey(hiddenEntry);\n                    forceHidden[hiddenEntryId] = true;\n                    entriesByLevel[touchingLevel][touchingLateral] = hiddenEntry;\n                    hiddenEntries.push(hiddenEntry);\n                    this.splitEntry(touchingEntry, entry, hiddenEntries);\n                }\n                else {\n                    forceHidden[touchingEntryId] = true;\n                    hiddenEntries.push(touchingEntry);\n                }\n            }\n        }\n        // will try to reslice...\n        super.handleInvalidInsertion(insertion, entry, hiddenEntries);\n    }\n}\n\nclass TableRow extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.cellElRefs = new RefMap(); // the <td>\n        this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n        this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n        this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n        this.rootElRef = createRef();\n        this.state = {\n            framePositions: null,\n            maxContentHeight: null,\n            segHeights: {},\n        };\n        this.handleResize = (isForced) => {\n            if (isForced) {\n                this.updateSizing(true); // isExternal=true\n            }\n        };\n    }\n    render() {\n        let { props, state, context } = this;\n        let { options } = context;\n        let colCnt = props.cells.length;\n        let businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n        let bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n        let highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n        let mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n        let { singleColPlacements, multiColPlacements, moreCnts, moreMarginTops } = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.segHeights, state.maxContentHeight, props.cells);\n        let isForcedInvisible = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(\"tr\", { ref: this.rootElRef, role: \"row\" },\n            props.renderIntro && props.renderIntro(),\n            props.cells.map((cell, col) => {\n                let normalFgNodes = this.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);\n                let mirrorFgNodes = this.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                return (createElement(TableCell, { key: cell.key, elRef: this.cellElRefs.createRef(cell.key), innerElRef: this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, extraRenderProps: cell.extraRenderProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, moreCnt: moreCnts[col], moreMarginTop: moreMarginTops[col], singlePlacements: singleColPlacements[col], fgContentElRef: this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        createElement(Fragment, null, normalFgNodes),\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                        this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                        this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))), minHeight: props.cellMinHeight }));\n            })));\n    }\n    componentDidMount() {\n        this.updateSizing(true);\n        this.context.addResizeHandler(this.handleResize);\n    }\n    componentDidUpdate(prevProps, prevState) {\n        let currentProps = this.props;\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    }\n    componentWillUnmount() {\n        this.context.removeResizeHandler(this.handleResize);\n    }\n    getHighlightSegs() {\n        let { props } = this;\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n            return props.eventDrag.segs;\n        }\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return props.dateSelectionSegs;\n    }\n    getMirrorSegs() {\n        let { props } = this;\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return [];\n    }\n    renderFgSegs(col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {\n        let { context } = this;\n        let { eventSelection } = this.props;\n        let { framePositions } = this.state;\n        let defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n        let isMirror = isDragging || isResizing || isDateSelecting;\n        let nodes = [];\n        if (framePositions) {\n            for (let placement of segPlacements) {\n                let { seg } = placement;\n                let { instanceId } = seg.eventRange.instance;\n                let isVisible = placement.isVisible && !isForcedInvisible[instanceId];\n                let isAbsolute = placement.isAbsolute;\n                let left = '';\n                let right = '';\n                if (isAbsolute) {\n                    if (context.isRtl) {\n                        right = 0;\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                    }\n                    else {\n                        left = 0;\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                    }\n                }\n                /*\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                todo: in print view, for multi-day events, don't display title within non-start/end segs\n                */\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: generateSegKey(seg), ref: isMirror ? null : this.segHarnessRefs.createRef(generateSegUid(seg)), style: {\n                        visibility: isVisible ? '' : 'hidden',\n                        marginTop: isAbsolute ? '' : placement.marginTop,\n                        top: isAbsolute ? placement.absoluteTop : '',\n                        left,\n                        right,\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, Object.assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, Object.assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\n            }\n        }\n        return nodes;\n    }\n    renderFillSegs(segs, fillType) {\n        let { isRtl } = this.context;\n        let { todayRange } = this.props;\n        let { framePositions } = this.state;\n        let nodes = [];\n        if (framePositions) {\n            for (let seg of segs) {\n                let leftRightCss = isRtl ? {\n                    right: 0,\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n                } : {\n                    left: 0,\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                };\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\n                    createElement(BgEvent, Object.assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                    renderFill(fillType)));\n            }\n        }\n        return createElement(Fragment, {}, ...nodes);\n    }\n    updateSizing(isExternalSizingChange) {\n        let { props, state, frameElRefs } = this;\n        if (!props.forPrint &&\n            props.clientWidth !== null // positioning ready?\n        ) {\n            if (isExternalSizingChange) {\n                let frameEls = props.cells.map((cell) => frameElRefs.currentMap[cell.key]);\n                if (frameEls.length) {\n                    let originEl = this.rootElRef.current;\n                    let newPositionCache = new PositionCache(originEl, frameEls, true, // isHorizontal\n                    false);\n                    if (!state.framePositions || !state.framePositions.similarTo(newPositionCache)) {\n                        this.setState({\n                            framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                            false),\n                        });\n                    }\n                }\n            }\n            const oldSegHeights = this.state.segHeights;\n            const newSegHeights = this.querySegHeights();\n            const limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n            this.safeSetState({\n                // HACK to prevent oscillations of events being shown/hidden from max-event-rows\n                // Essentially, once you compute an element's height, never null-out.\n                // TODO: always display all events, as visibility:hidden?\n                segHeights: Object.assign(Object.assign({}, oldSegHeights), newSegHeights),\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\n            });\n        }\n    }\n    querySegHeights() {\n        let segElMap = this.segHarnessRefs.currentMap;\n        let segHeights = {};\n        // get the max height amongst instance segs\n        for (let segUid in segElMap) {\n            let height = Math.round(segElMap[segUid].getBoundingClientRect().height);\n            segHeights[segUid] = Math.max(segHeights[segUid] || 0, height);\n        }\n        return segHeights;\n    }\n    computeMaxContentHeight() {\n        let firstKey = this.props.cells[0].key;\n        let cellEl = this.cellElRefs.currentMap[firstKey];\n        let fcContainerEl = this.fgElRefs.currentMap[firstKey];\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    }\n    getCellEls() {\n        let elMap = this.cellElRefs.currentMap;\n        return this.props.cells.map((cell) => elMap[cell.key]);\n    }\n}\nTableRow.addStateEquality({\n    segHeights: isPropsEqual,\n});\nfunction buildMirrorPlacements(mirrorSegs, colPlacements) {\n    if (!mirrorSegs.length) {\n        return [];\n    }\n    let topsByInstanceId = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\n    return mirrorSegs.map((seg) => ({\n        seg,\n        isVisible: true,\n        isAbsolute: true,\n        absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],\n        marginTop: 0,\n    }));\n}\nfunction buildAbsoluteTopHash(colPlacements) {\n    let topsByInstanceId = {};\n    for (let placements of colPlacements) {\n        for (let placement of placements) {\n            topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;\n        }\n    }\n    return topsByInstanceId;\n}\n\nclass TableRows extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.splitBusinessHourSegs = memoize(splitSegsByRow);\n        this.splitBgEventSegs = memoize(splitAllDaySegsByRow);\n        this.splitFgEventSegs = memoize(splitSegsByRow);\n        this.splitDateSelectionSegs = memoize(splitSegsByRow);\n        this.splitEventDrag = memoize(splitInteractionByRow);\n        this.splitEventResize = memoize(splitInteractionByRow);\n        this.rowRefs = new RefMap();\n    }\n    render() {\n        let { props, context } = this;\n        let rowCnt = props.cells.length;\n        let businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n        let bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n        let fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n        let dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n        let eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n        let eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n        // for DayGrid view with many rows, force a min-height on cells so doesn't appear squished\n        // choose 7 because a month view will have max 6 rows\n        let cellMinHeight = (rowCnt >= 7 && props.clientWidth) ?\n            props.clientWidth / context.options.aspectRatio / 6 :\n            null;\n        return (createElement(NowTimer, { unit: \"day\" }, (nowDate, todayRange) => (createElement(Fragment, null, props.cells.map((cells, row) => (createElement(TableRow, { ref: this.rowRefs.createRef(row), key: cells.length\n                ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                : row // in case there are no cells (like when resource view is loading)\n            , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: props.dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row], fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, cellMinHeight: cellMinHeight, forPrint: props.forPrint })))))));\n    }\n    componentDidMount() {\n        this.registerInteractiveComponent();\n    }\n    componentDidUpdate() {\n        // for if started with zero cells\n        this.registerInteractiveComponent();\n    }\n    registerInteractiveComponent() {\n        if (!this.rootEl) {\n            // HACK: need a daygrid wrapper parent to do positioning\n            // NOTE: a daygrid resource view w/o resources can have zero cells\n            const firstCellEl = this.rowRefs.currentMap[0].getCellEls()[0];\n            const rootEl = firstCellEl ? firstCellEl.closest('.fc-daygrid-body') : null;\n            if (rootEl) {\n                this.rootEl = rootEl;\n                this.context.registerInteractiveComponent(this, {\n                    el: rootEl,\n                    isHitComboAllowed: this.props.isHitComboAllowed,\n                });\n            }\n        }\n    }\n    componentWillUnmount() {\n        if (this.rootEl) {\n            this.context.unregisterInteractiveComponent(this);\n            this.rootEl = null;\n        }\n    }\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n    prepareHits() {\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map((rowObj) => rowObj.getCellEls()[0]), // first cell el in each row. TODO: not optimal\n        false, true);\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n        true, // horizontal\n        false);\n    }\n    queryHit(positionLeft, positionTop) {\n        let { colPositions, rowPositions } = this;\n        let col = colPositions.leftToIndex(positionLeft);\n        let row = rowPositions.topToIndex(positionTop);\n        if (row != null && col != null) {\n            let cell = this.props.cells[row][col];\n            return {\n                dateProfile: this.props.dateProfile,\n                dateSpan: Object.assign({ range: this.getCellRange(row, col), allDay: true }, cell.extraDateSpan),\n                dayEl: this.getCellEl(row, col),\n                rect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row],\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    }\n    getCellEl(row, col) {\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    }\n    getCellRange(row, col) {\n        let start = this.props.cells[row][col].date;\n        let end = addDays(start, 1);\n        return { start, end };\n    }\n}\nfunction splitAllDaySegsByRow(segs, rowCnt) {\n    return splitSegsByRow(segs.filter(isSegAllDay), rowCnt);\n}\nfunction isSegAllDay(seg) {\n    return seg.eventRange.def.allDay;\n}\n\nclass Table extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.elRef = createRef();\n        this.needsScrollReset = false;\n    }\n    render() {\n        let { props } = this;\n        let { dayMaxEventRows, dayMaxEvents, expandRows } = props;\n        let limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\n        // TODO: best place to normalize these options?\n        if (limitViaBalanced && !expandRows) {\n            limitViaBalanced = false;\n            dayMaxEventRows = null;\n            dayMaxEvents = null;\n        }\n        let classNames = [\n            'fc-daygrid-body',\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n            expandRows ? '' : 'fc-daygrid-body-natural', // will height of one row depend on the others?\n        ];\n        return (createElement(\"div\", { ref: this.elRef, className: classNames.join(' '), style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(\"table\", { role: \"presentation\", className: \"fc-scrollgrid-sync-table\", style: {\n                    width: props.clientWidth,\n                    minWidth: props.tableMinWidth,\n                    height: expandRows ? props.clientHeight : '',\n                } },\n                props.colGroupNode,\n                createElement(\"tbody\", { role: \"presentation\" },\n                    createElement(TableRows, { dateProfile: props.dateProfile, cells: props.cells, renderRowIntro: props.renderRowIntro, showWeekNumbers: props.showWeekNumbers, clientWidth: props.clientWidth, clientHeight: props.clientHeight, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, forPrint: props.forPrint, isHitComboAllowed: props.isHitComboAllowed })))));\n    }\n    componentDidMount() {\n        this.requestScrollReset();\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.dateProfile !== this.props.dateProfile) {\n            this.requestScrollReset();\n        }\n        else {\n            this.flushScrollReset();\n        }\n    }\n    requestScrollReset() {\n        this.needsScrollReset = true;\n        this.flushScrollReset();\n    }\n    flushScrollReset() {\n        if (this.needsScrollReset &&\n            this.props.clientWidth // sizes computed?\n        ) {\n            const subjectEl = getScrollSubjectEl(this.elRef.current, this.props.dateProfile);\n            if (subjectEl) {\n                const originEl = subjectEl.closest('.fc-daygrid-body');\n                const scrollEl = originEl.closest('.fc-scroller');\n                const scrollTop = subjectEl.getBoundingClientRect().top -\n                    originEl.getBoundingClientRect().top;\n                scrollEl.scrollTop = scrollTop ? (scrollTop + 1) : 0; // overcome border\n            }\n            this.needsScrollReset = false;\n        }\n    }\n}\nfunction getScrollSubjectEl(containerEl, dateProfile) {\n    let el;\n    if (dateProfile.currentRangeUnit.match(/year|month/)) {\n        el = containerEl.querySelector(`[data-date=\"${formatIsoMonthStr(dateProfile.currentDate)}-01\"]`);\n        // even if view is month-based, first-of-month might be hidden...\n    }\n    if (!el) {\n        el = containerEl.querySelector(`[data-date=\"${formatDayString(dateProfile.currentDate)}\"]`);\n        // could still be hidden if an interior-view hidden day\n    }\n    return el;\n}\n\nclass DayTableSlicer extends Slicer {\n    constructor() {\n        super(...arguments);\n        this.forceDayIfListItem = true;\n    }\n    sliceRange(dateRange, dayTableModel) {\n        return dayTableModel.sliceRange(dateRange);\n    }\n}\n\nclass DayTable extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.slicer = new DayTableSlicer();\n        this.tableRef = createRef();\n    }\n    render() {\n        let { props, context } = this;\n        return (createElement(Table, Object.assign({ ref: this.tableRef }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n    }\n}\n\nclass DayTableView extends TableView {\n    constructor() {\n        super(...arguments);\n        this.buildDayTableModel = memoize(buildDayTableModel);\n        this.headerRef = createRef();\n        this.tableRef = createRef();\n        // can't override any lifecycle methods from parent\n    }\n    render() {\n        let { options, dateProfileGenerator } = this.context;\n        let { props } = this;\n        let dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n        let headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\n        let bodyContent = (contentArg) => (createElement(DayTable, { ref: this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }));\n        return options.dayMinWidth\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n            : this.renderSimpleLayout(headerContent, bodyContent);\n    }\n}\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n    let daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nclass TableDateProfileGenerator extends DateProfileGenerator {\n    // Computes the date range that will be rendered\n    buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay) {\n        let renderRange = super.buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay);\n        let { props } = this;\n        return buildDayTableRenderRange({\n            currentRange: renderRange,\n            snapToWeek: /^(year|month)$/.test(currentRangeUnit),\n            fixedWeekCount: props.fixedWeekCount,\n            dateEnv: props.dateEnv,\n        });\n    }\n}\nfunction buildDayTableRenderRange(props) {\n    let { dateEnv, currentRange } = props;\n    let { start, end } = currentRange;\n    let endOfWeek;\n    // year and month views should be aligned with weeks. this is already done for week\n    if (props.snapToWeek) {\n        start = dateEnv.startOfWeek(start);\n        // make end-of-week if not already\n        endOfWeek = dateEnv.startOfWeek(end);\n        if (endOfWeek.valueOf() !== end.valueOf()) {\n            end = addWeeks(endOfWeek, 1);\n        }\n    }\n    // ensure 6 weeks\n    if (props.fixedWeekCount) {\n        // TODO: instead of these date-math gymnastics (for multimonth view),\n        // compute dateprofiles of all months, then use start of first and end of last.\n        let lastMonthRenderStart = dateEnv.startOfWeek(dateEnv.startOfMonth(addDays(currentRange.end, -1)));\n        let rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n        diffWeeks(lastMonthRenderStart, end));\n        end = addWeeks(end, 6 - rowCnt);\n    }\n    return { start, end };\n}\n\nvar css_248z = \":root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}\";\ninjectStyles(css_248z);\n\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableDateProfileGenerator, TableRows, TableView, buildDayTableModel, buildDayTableRenderRange };\n","import { Splitter, hasBgRendering, createFormatter, ViewContextType, ContentContainer, BaseComponent, DateComponent, diffDays, buildNavLinkAttrs, WeekNumberContainer, getStickyHeaderDates, ViewContainer, SimpleScrollGrid, getStickyFooterScrollbar, NowTimer, NowIndicatorContainer, renderScrollShim, rangeContainsMarker, startOfDay, asRoughMs, createDuration, RefMap, PositionCache, MoreLinkContainer, SegHierarchy, groupIntersectingEntries, binarySearch, getEntrySpanEnd, buildEntryKey, StandardEvent, memoize, sortEventSegs, DayCellContainer, hasCustomDayCellContent, getSegMeta, buildIsoString, computeEarliestSegStart, buildEventRangeKey, BgEvent, renderFill, addDurations, multiplyDuration, wholeDivideDurations, Slicer, intersectRanges, formatIsoTimeString, DayHeader, DaySeriesModel, DayTableModel, injectStyles } from '@fullcalendar/core/internal.js';\nimport { createElement, createRef, Fragment } from '@fullcalendar/core/preact.js';\nimport { DayTable } from '@fullcalendar/daygrid/internal.js';\n\nclass AllDaySplitter extends Splitter {\n    getKeyInfo() {\n        return {\n            allDay: {},\n            timed: {},\n        };\n    }\n    getKeysForDateSpan(dateSpan) {\n        if (dateSpan.allDay) {\n            return ['allDay'];\n        }\n        return ['timed'];\n    }\n    getKeysForEventDef(eventDef) {\n        if (!eventDef.allDay) {\n            return ['timed'];\n        }\n        if (hasBgRendering(eventDef)) {\n            return ['timed', 'allDay'];\n        }\n        return ['allDay'];\n    }\n}\n\nconst DEFAULT_SLAT_LABEL_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'short',\n});\nfunction TimeColsAxisCell(props) {\n    let classNames = [\n        'fc-timegrid-slot',\n        'fc-timegrid-slot-label',\n        props.isLabeled ? 'fc-scrollgrid-shrink' : 'fc-timegrid-slot-minor',\n    ];\n    return (createElement(ViewContextType.Consumer, null, (context) => {\n        if (!props.isLabeled) {\n            return (createElement(\"td\", { className: classNames.join(' '), \"data-time\": props.isoTimeStr }));\n        }\n        let { dateEnv, options, viewApi } = context;\n        let labelFormat = // TODO: fully pre-parse\n         options.slotLabelFormat == null ? DEFAULT_SLAT_LABEL_FORMAT :\n            Array.isArray(options.slotLabelFormat) ? createFormatter(options.slotLabelFormat[0]) :\n                createFormatter(options.slotLabelFormat);\n        let renderProps = {\n            level: 0,\n            time: props.time,\n            date: dateEnv.toDate(props.date),\n            view: viewApi,\n            text: dateEnv.format(props.date, labelFormat),\n        };\n        return (createElement(ContentContainer, { elTag: \"td\", elClasses: classNames, elAttrs: {\n                'data-time': props.isoTimeStr,\n            }, renderProps: renderProps, generatorName: \"slotLabelContent\", customGenerator: options.slotLabelContent, defaultGenerator: renderInnerContent, classNameGenerator: options.slotLabelClassNames, didMount: options.slotLabelDidMount, willUnmount: options.slotLabelWillUnmount }, (InnerContent) => (createElement(\"div\", { className: \"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame\" },\n            createElement(InnerContent, { elTag: \"div\", elClasses: [\n                    'fc-timegrid-slot-label-cushion',\n                    'fc-scrollgrid-shrink-cushion',\n                ] })))));\n    }));\n}\nfunction renderInnerContent(props) {\n    return props.text;\n}\n\nclass TimeBodyAxis extends BaseComponent {\n    render() {\n        return this.props.slatMetas.map((slatMeta) => (createElement(\"tr\", { key: slatMeta.key },\n            createElement(TimeColsAxisCell, Object.assign({}, slatMeta)))));\n    }\n}\n\nconst DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'short' });\nconst AUTO_ALL_DAY_MAX_EVENT_ROWS = 5;\nclass TimeColsView extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.allDaySplitter = new AllDaySplitter(); // for use by subclasses\n        this.headerElRef = createRef();\n        this.rootElRef = createRef();\n        this.scrollerElRef = createRef();\n        this.state = {\n            slatCoords: null,\n        };\n        this.handleScrollTopRequest = (scrollTop) => {\n            let scrollerEl = this.scrollerElRef.current;\n            if (scrollerEl) { // TODO: not sure how this could ever be null. weirdness with the reducer\n                scrollerEl.scrollTop = scrollTop;\n            }\n        };\n        /* Header Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        this.renderHeadAxis = (rowKey, frameHeight = '') => {\n            let { options } = this.context;\n            let { dateProfile } = this.props;\n            let range = dateProfile.renderRange;\n            let dayCnt = diffDays(range.start, range.end);\n            // only do in day views (to avoid doing in week views that dont need it)\n            let navLinkAttrs = (dayCnt === 1)\n                ? buildNavLinkAttrs(this.context, range.start, 'week')\n                : {};\n            if (options.weekNumbers && rowKey === 'day') {\n                return (createElement(WeekNumberContainer, { elTag: \"th\", elClasses: [\n                        'fc-timegrid-axis',\n                        'fc-scrollgrid-shrink',\n                    ], elAttrs: {\n                        'aria-hidden': true,\n                    }, date: range.start, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, (InnerContent) => (createElement(\"div\", { className: [\n                        'fc-timegrid-axis-frame',\n                        'fc-scrollgrid-shrink-frame',\n                        'fc-timegrid-axis-frame-liquid',\n                    ].join(' '), style: { height: frameHeight } },\n                    createElement(InnerContent, { elTag: \"a\", elClasses: [\n                            'fc-timegrid-axis-cushion',\n                            'fc-scrollgrid-shrink-cushion',\n                            'fc-scrollgrid-sync-inner',\n                        ], elAttrs: navLinkAttrs })))));\n            }\n            return (createElement(\"th\", { \"aria-hidden\": true, className: \"fc-timegrid-axis\" },\n                createElement(\"div\", { className: \"fc-timegrid-axis-frame\", style: { height: frameHeight } })));\n        };\n        /* Table Component Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        // only a one-way height sync. we don't send the axis inner-content height to the DayGrid,\n        // but DayGrid still needs to have classNames on inner elements in order to measure.\n        this.renderTableRowAxis = (rowHeight) => {\n            let { options, viewApi } = this.context;\n            let renderProps = {\n                text: options.allDayText,\n                view: viewApi,\n            };\n            return (\n            // TODO: make reusable hook. used in list view too\n            createElement(ContentContainer, { elTag: \"td\", elClasses: [\n                    'fc-timegrid-axis',\n                    'fc-scrollgrid-shrink',\n                ], elAttrs: {\n                    'aria-hidden': true,\n                }, renderProps: renderProps, generatorName: \"allDayContent\", customGenerator: options.allDayContent, defaultGenerator: renderAllDayInner, classNameGenerator: options.allDayClassNames, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, (InnerContent) => (createElement(\"div\", { className: [\n                    'fc-timegrid-axis-frame',\n                    'fc-scrollgrid-shrink-frame',\n                    rowHeight == null ? ' fc-timegrid-axis-frame-liquid' : '',\n                ].join(' '), style: { height: rowHeight } },\n                createElement(InnerContent, { elTag: \"span\", elClasses: [\n                        'fc-timegrid-axis-cushion',\n                        'fc-scrollgrid-shrink-cushion',\n                        'fc-scrollgrid-sync-inner',\n                    ] })))));\n        };\n        this.handleSlatCoords = (slatCoords) => {\n            this.setState({ slatCoords });\n        };\n    }\n    // rendering\n    // ----------------------------------------------------------------------------------------------------\n    renderSimpleLayout(headerRowContent, allDayContent, timeContent) {\n        let { context, props } = this;\n        let sections = [];\n        let stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                chunk: { content: allDayContent },\n            });\n            sections.push({\n                type: 'body',\n                key: 'all-day-divider',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunk: {\n                scrollerElRef: this.scrollerElRef,\n                content: timeContent,\n            },\n        });\n        return (createElement(ViewContainer, { elRef: this.rootElRef, elClasses: ['fc-timegrid'], viewSpec: context.viewSpec },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [{ width: 'shrink' }], sections: sections })));\n    }\n    renderHScrollLayout(headerRowContent, allDayContent, timeContent, colCnt, dayMinWidth, slatMetas, slatCoords) {\n        let ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        let { context, props } = this;\n        let stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        let stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        let sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: (arg) => (createElement(\"tr\", { role: \"presentation\" }, this.renderHeadAxis('day', arg.rowSyncHeights[0]))),\n                    },\n                    {\n                        key: 'cols',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    },\n                ],\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: (contentArg) => (createElement(\"tr\", { role: \"presentation\" }, this.renderTableRowAxis(contentArg.rowSyncHeights[0]))),\n                    },\n                    {\n                        key: 'cols',\n                        content: allDayContent,\n                    },\n                ],\n            });\n            sections.push({\n                key: 'all-day-divider',\n                type: 'body',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { colSpan: 2, className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        let isNowIndicator = context.options.nowIndicator;\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunks: [\n                {\n                    key: 'axis',\n                    content: (arg) => (\n                    // TODO: make this now-indicator arrow more DRY with TimeColsContent\n                    createElement(\"div\", { className: \"fc-timegrid-axis-chunk\" },\n                        createElement(\"table\", { \"aria-hidden\": true, style: { height: arg.expandRows ? arg.clientHeight : '' } },\n                            arg.tableColGroupNode,\n                            createElement(\"tbody\", null,\n                                createElement(TimeBodyAxis, { slatMetas: slatMetas }))),\n                        createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" },\n                            createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' /* hacky */ }, (nowDate) => {\n                                let nowIndicatorTop = isNowIndicator &&\n                                    slatCoords &&\n                                    slatCoords.safeComputeTop(nowDate); // might return void\n                                if (typeof nowIndicatorTop === 'number') {\n                                    return (createElement(NowIndicatorContainer, { elClasses: ['fc-timegrid-now-indicator-arrow'], elStyle: { top: nowIndicatorTop }, isAxis: true, date: nowDate }));\n                                }\n                                return null;\n                            })))),\n                },\n                {\n                    key: 'cols',\n                    scrollerElRef: this.scrollerElRef,\n                    content: timeContent,\n                },\n            ],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                key: 'footer',\n                type: 'footer',\n                isSticky: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        content: renderScrollShim,\n                    },\n                    {\n                        key: 'cols',\n                        content: renderScrollShim,\n                    },\n                ],\n            });\n        }\n        return (createElement(ViewContainer, { elRef: this.rootElRef, elClasses: ['fc-timegrid'], viewSpec: context.viewSpec },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, forPrint: props.forPrint, collapsibleWidth: false, colGroups: [\n                    { width: 'shrink', cols: [{ width: 'shrink' }] },\n                    { cols: [{ span: colCnt, minWidth: dayMinWidth }] },\n                ], sections: sections })));\n    }\n    /* Dimensions\n    ------------------------------------------------------------------------------------------------------------------*/\n    getAllDayMaxEventProps() {\n        let { dayMaxEvents, dayMaxEventRows } = this.context.options;\n        if (dayMaxEvents === true || dayMaxEventRows === true) { // is auto?\n            dayMaxEvents = undefined;\n            dayMaxEventRows = AUTO_ALL_DAY_MAX_EVENT_ROWS; // make sure \"auto\" goes to a real number\n        }\n        return { dayMaxEvents, dayMaxEventRows };\n    }\n}\nfunction renderAllDayInner(renderProps) {\n    return renderProps.text;\n}\n\nclass TimeColsSlatsCoords {\n    constructor(positions, dateProfile, slotDuration) {\n        this.positions = positions;\n        this.dateProfile = dateProfile;\n        this.slotDuration = slotDuration;\n    }\n    safeComputeTop(date) {\n        let { dateProfile } = this;\n        if (rangeContainsMarker(dateProfile.currentRange, date)) {\n            let startOfDayDate = startOfDay(date);\n            let timeMs = date.valueOf() - startOfDayDate.valueOf();\n            if (timeMs >= asRoughMs(dateProfile.slotMinTime) &&\n                timeMs < asRoughMs(dateProfile.slotMaxTime)) {\n                return this.computeTimeTop(createDuration(timeMs));\n            }\n        }\n        return null;\n    }\n    // Computes the top coordinate, relative to the bounds of the grid, of the given date.\n    // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n    computeDateTop(when, startOfDayDate) {\n        if (!startOfDayDate) {\n            startOfDayDate = startOfDay(when);\n        }\n        return this.computeTimeTop(createDuration(when.valueOf() - startOfDayDate.valueOf()));\n    }\n    // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n    // This is a makeshify way to compute the time-top. Assumes all slatMetas dates are uniform.\n    // Eventually allow computation with arbirary slat dates.\n    computeTimeTop(duration) {\n        let { positions, dateProfile } = this;\n        let len = positions.els.length;\n        // floating-point value of # of slots covered\n        let slatCoverage = (duration.milliseconds - asRoughMs(dateProfile.slotMinTime)) / asRoughMs(this.slotDuration);\n        let slatIndex;\n        let slatRemainder;\n        // compute a floating-point number for how many slats should be progressed through.\n        // from 0 to number of slats (inclusive)\n        // constrained because slotMinTime/slotMaxTime might be customized.\n        slatCoverage = Math.max(0, slatCoverage);\n        slatCoverage = Math.min(len, slatCoverage);\n        // an integer index of the furthest whole slat\n        // from 0 to number slats (*exclusive*, so len-1)\n        slatIndex = Math.floor(slatCoverage);\n        slatIndex = Math.min(slatIndex, len - 1);\n        // how much further through the slatIndex slat (from 0.0-1.0) must be covered in addition.\n        // could be 1.0 if slatCoverage is covering *all* the slots\n        slatRemainder = slatCoverage - slatIndex;\n        return positions.tops[slatIndex] +\n            positions.getHeight(slatIndex) * slatRemainder;\n    }\n}\n\nclass TimeColsSlatsBody extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let { slatElRefs } = props;\n        return (createElement(\"tbody\", null, props.slatMetas.map((slatMeta, i) => {\n            let renderProps = {\n                time: slatMeta.time,\n                date: context.dateEnv.toDate(slatMeta.date),\n                view: context.viewApi,\n            };\n            return (createElement(\"tr\", { key: slatMeta.key, ref: slatElRefs.createRef(slatMeta.key) },\n                props.axis && (createElement(TimeColsAxisCell, Object.assign({}, slatMeta))),\n                createElement(ContentContainer, { elTag: \"td\", elClasses: [\n                        'fc-timegrid-slot',\n                        'fc-timegrid-slot-lane',\n                        !slatMeta.isLabeled && 'fc-timegrid-slot-minor',\n                    ], elAttrs: {\n                        'data-time': slatMeta.isoTimeStr,\n                    }, renderProps: renderProps, generatorName: \"slotLaneContent\", customGenerator: options.slotLaneContent, classNameGenerator: options.slotLaneClassNames, didMount: options.slotLaneDidMount, willUnmount: options.slotLaneWillUnmount })));\n        })));\n    }\n}\n\n/*\nfor the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n*/\nclass TimeColsSlats extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.rootElRef = createRef();\n        this.slatElRefs = new RefMap();\n    }\n    render() {\n        let { props, context } = this;\n        return (createElement(\"div\", { ref: this.rootElRef, className: \"fc-timegrid-slots\" },\n            createElement(\"table\", { \"aria-hidden\": true, className: context.theme.getClass('table'), style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                    height: props.minHeight,\n                } },\n                props.tableColGroupNode /* relies on there only being a single <col> for the axis */,\n                createElement(TimeColsSlatsBody, { slatElRefs: this.slatElRefs, axis: props.axis, slatMetas: props.slatMetas }))));\n    }\n    componentDidMount() {\n        this.updateSizing();\n    }\n    componentDidUpdate() {\n        this.updateSizing();\n    }\n    componentWillUnmount() {\n        if (this.props.onCoords) {\n            this.props.onCoords(null);\n        }\n    }\n    updateSizing() {\n        let { context, props } = this;\n        if (props.onCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            let rootEl = this.rootElRef.current;\n            if (rootEl.offsetHeight) { // not hidden by css\n                props.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current, collectSlatEls(this.slatElRefs.currentMap, props.slatMetas), false, true), this.props.dateProfile, context.options.slotDuration));\n            }\n        }\n    }\n}\nfunction collectSlatEls(elMap, slatMetas) {\n    return slatMetas.map((slatMeta) => elMap[slatMeta.key]);\n}\n\nfunction splitSegsByCol(segs, colCnt) {\n    let segsByCol = [];\n    let i;\n    for (i = 0; i < colCnt; i += 1) {\n        segsByCol.push([]);\n    }\n    if (segs) {\n        for (i = 0; i < segs.length; i += 1) {\n            segsByCol[segs[i].col].push(segs[i]);\n        }\n    }\n    return segsByCol;\n}\nfunction splitInteractionByCol(ui, colCnt) {\n    let byRow = [];\n    if (!ui) {\n        for (let i = 0; i < colCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (let i = 0; i < colCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (let seg of ui.segs) {\n            byRow[seg.col].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nclass TimeColMoreLink extends BaseComponent {\n    render() {\n        let { props } = this;\n        return (createElement(MoreLinkContainer, { elClasses: ['fc-timegrid-more-link'], elStyle: {\n                top: props.top,\n                bottom: props.bottom,\n            }, allDayDate: null, moreCnt: props.hiddenSegs.length, allSegs: props.hiddenSegs, hiddenSegs: props.hiddenSegs, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, todayRange: props.todayRange, popoverContent: () => renderPlainFgSegs(props.hiddenSegs, props), defaultGenerator: renderMoreLinkInner, forceTimed: true }, (InnerContent) => (createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-timegrid-more-link-inner', 'fc-sticky'] }))));\n    }\n}\nfunction renderMoreLinkInner(props) {\n    return props.shortText;\n}\n\n// segInputs assumed sorted\nfunction buildPositioning(segInputs, strictOrder, maxStackCnt) {\n    let hierarchy = new SegHierarchy();\n    if (strictOrder != null) {\n        hierarchy.strictOrder = strictOrder;\n    }\n    if (maxStackCnt != null) {\n        hierarchy.maxStackCnt = maxStackCnt;\n    }\n    let hiddenEntries = hierarchy.addSegs(segInputs);\n    let hiddenGroups = groupIntersectingEntries(hiddenEntries);\n    let web = buildWeb(hierarchy);\n    web = stretchWeb(web, 1); // all levelCoords/thickness will have 0.0-1.0\n    let segRects = webToRects(web);\n    return { segRects, hiddenGroups };\n}\nfunction buildWeb(hierarchy) {\n    const { entriesByLevel } = hierarchy;\n    const buildNode = cacheable((level, lateral) => level + ':' + lateral, (level, lateral) => {\n        let siblingRange = findNextLevelSegs(hierarchy, level, lateral);\n        let nextLevelRes = buildNodes(siblingRange, buildNode);\n        let entry = entriesByLevel[level][lateral];\n        return [\n            Object.assign(Object.assign({}, entry), { nextLevelNodes: nextLevelRes[0] }),\n            entry.thickness + nextLevelRes[1], // the pressure builds\n        ];\n    });\n    return buildNodes(entriesByLevel.length\n        ? { level: 0, lateralStart: 0, lateralEnd: entriesByLevel[0].length }\n        : null, buildNode)[0];\n}\nfunction buildNodes(siblingRange, buildNode) {\n    if (!siblingRange) {\n        return [[], 0];\n    }\n    let { level, lateralStart, lateralEnd } = siblingRange;\n    let lateral = lateralStart;\n    let pairs = [];\n    while (lateral < lateralEnd) {\n        pairs.push(buildNode(level, lateral));\n        lateral += 1;\n    }\n    pairs.sort(cmpDescPressures);\n    return [\n        pairs.map(extractNode),\n        pairs[0][1], // first item's pressure\n    ];\n}\nfunction cmpDescPressures(a, b) {\n    return b[1] - a[1];\n}\nfunction extractNode(a) {\n    return a[0];\n}\nfunction findNextLevelSegs(hierarchy, subjectLevel, subjectLateral) {\n    let { levelCoords, entriesByLevel } = hierarchy;\n    let subjectEntry = entriesByLevel[subjectLevel][subjectLateral];\n    let afterSubject = levelCoords[subjectLevel] + subjectEntry.thickness;\n    let levelCnt = levelCoords.length;\n    let level = subjectLevel;\n    // skip past levels that are too high up\n    for (; level < levelCnt && levelCoords[level] < afterSubject; level += 1)\n        ; // do nothing\n    for (; level < levelCnt; level += 1) {\n        let entries = entriesByLevel[level];\n        let entry;\n        let searchIndex = binarySearch(entries, subjectEntry.span.start, getEntrySpanEnd);\n        let lateralStart = searchIndex[0] + searchIndex[1]; // if exact match (which doesn't collide), go to next one\n        let lateralEnd = lateralStart;\n        while ( // loop through entries that horizontally intersect\n        (entry = entries[lateralEnd]) && // but not past the whole seg list\n            entry.span.start < subjectEntry.span.end) {\n            lateralEnd += 1;\n        }\n        if (lateralStart < lateralEnd) {\n            return { level, lateralStart, lateralEnd };\n        }\n    }\n    return null;\n}\nfunction stretchWeb(topLevelNodes, totalThickness) {\n    const stretchNode = cacheable((node, startCoord, prevThickness) => buildEntryKey(node), (node, startCoord, prevThickness) => {\n        let { nextLevelNodes, thickness } = node;\n        let allThickness = thickness + prevThickness;\n        let thicknessFraction = thickness / allThickness;\n        let endCoord;\n        let newChildren = [];\n        if (!nextLevelNodes.length) {\n            endCoord = totalThickness;\n        }\n        else {\n            for (let childNode of nextLevelNodes) {\n                if (endCoord === undefined) {\n                    let res = stretchNode(childNode, startCoord, allThickness);\n                    endCoord = res[0];\n                    newChildren.push(res[1]);\n                }\n                else {\n                    let res = stretchNode(childNode, endCoord, 0);\n                    newChildren.push(res[1]);\n                }\n            }\n        }\n        let newThickness = (endCoord - startCoord) * thicknessFraction;\n        return [endCoord - newThickness, Object.assign(Object.assign({}, node), { thickness: newThickness, nextLevelNodes: newChildren })];\n    });\n    return topLevelNodes.map((node) => stretchNode(node, 0, 0)[1]);\n}\n// not sorted in any particular order\nfunction webToRects(topLevelNodes) {\n    let rects = [];\n    const processNode = cacheable((node, levelCoord, stackDepth) => buildEntryKey(node), (node, levelCoord, stackDepth) => {\n        let rect = Object.assign(Object.assign({}, node), { levelCoord,\n            stackDepth, stackForward: 0 });\n        rects.push(rect);\n        return (rect.stackForward = processNodes(node.nextLevelNodes, levelCoord + node.thickness, stackDepth + 1) + 1);\n    });\n    function processNodes(nodes, levelCoord, stackDepth) {\n        let stackForward = 0;\n        for (let node of nodes) {\n            stackForward = Math.max(processNode(node, levelCoord, stackDepth), stackForward);\n        }\n        return stackForward;\n    }\n    processNodes(topLevelNodes, 0, 0);\n    return rects; // TODO: sort rects by levelCoord to be consistent with toRects?\n}\n// TODO: move to general util\nfunction cacheable(keyFunc, workFunc) {\n    const cache = {};\n    return (...args) => {\n        let key = keyFunc(...args);\n        return (key in cache)\n            ? cache[key]\n            : (cache[key] = workFunc(...args));\n    };\n}\n\nfunction computeSegVCoords(segs, colDate, slatCoords = null, eventMinHeight = 0) {\n    let vcoords = [];\n    if (slatCoords) {\n        for (let i = 0; i < segs.length; i += 1) {\n            let seg = segs[i];\n            let spanStart = slatCoords.computeDateTop(seg.start, colDate);\n            let spanEnd = Math.max(spanStart + (eventMinHeight || 0), // :(\n            slatCoords.computeDateTop(seg.end, colDate));\n            vcoords.push({\n                start: Math.round(spanStart),\n                end: Math.round(spanEnd), //\n            });\n        }\n    }\n    return vcoords;\n}\nfunction computeFgSegPlacements(segs, segVCoords, // might not have for every seg\neventOrderStrict, eventMaxStack) {\n    let segInputs = [];\n    let dumbSegs = []; // segs without coords\n    for (let i = 0; i < segs.length; i += 1) {\n        let vcoords = segVCoords[i];\n        if (vcoords) {\n            segInputs.push({\n                index: i,\n                thickness: 1,\n                span: vcoords,\n            });\n        }\n        else {\n            dumbSegs.push(segs[i]);\n        }\n    }\n    let { segRects, hiddenGroups } = buildPositioning(segInputs, eventOrderStrict, eventMaxStack);\n    let segPlacements = [];\n    for (let segRect of segRects) {\n        segPlacements.push({\n            seg: segs[segRect.index],\n            rect: segRect,\n        });\n    }\n    for (let dumbSeg of dumbSegs) {\n        segPlacements.push({ seg: dumbSeg, rect: null });\n    }\n    return { segPlacements, hiddenGroups };\n}\n\nconst DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: false,\n});\nclass TimeColEvent extends BaseComponent {\n    render() {\n        return (createElement(StandardEvent, Object.assign({}, this.props, { elClasses: [\n                'fc-timegrid-event',\n                'fc-v-event',\n                this.props.isShort && 'fc-timegrid-event-short',\n            ], defaultTimeFormat: DEFAULT_TIME_FORMAT })));\n    }\n}\n\nclass TimeCol extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.sortEventSegs = memoize(sortEventSegs);\n    }\n    // TODO: memoize event-placement?\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let isSelectMirror = options.selectMirror;\n        let mirrorSegs = // yuck\n         (props.eventDrag && props.eventDrag.segs) ||\n            (props.eventResize && props.eventResize.segs) ||\n            (isSelectMirror && props.dateSelectionSegs) ||\n            [];\n        let interactionAffectedInstances = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        let sortedFgSegs = this.sortEventSegs(props.fgEventSegs, options.eventOrder);\n        return (createElement(DayCellContainer, { elTag: \"td\", elRef: props.elRef, elClasses: [\n                'fc-timegrid-col',\n                ...(props.extraClassNames || []),\n            ], elAttrs: Object.assign({ role: 'gridcell' }, props.extraDataAttrs), date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraRenderProps: props.extraRenderProps }, (InnerContent) => (createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n            createElement(\"div\", { className: \"fc-timegrid-col-bg\" },\n                this.renderFillSegs(props.businessHourSegs, 'non-business'),\n                this.renderFillSegs(props.bgEventSegs, 'bg-event'),\n                this.renderFillSegs(props.dateSelectionSegs, 'highlight')),\n            createElement(\"div\", { className: \"fc-timegrid-col-events\" }, this.renderFgSegs(sortedFgSegs, interactionAffectedInstances, false, false, false)),\n            createElement(\"div\", { className: \"fc-timegrid-col-events\" }, this.renderFgSegs(mirrorSegs, {}, Boolean(props.eventDrag), Boolean(props.eventResize), Boolean(isSelectMirror), 'mirror')),\n            createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, this.renderNowIndicator(props.nowIndicatorSegs)),\n            hasCustomDayCellContent(options) && (createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-timegrid-col-misc'] }))))));\n    }\n    renderFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting, forcedKey) {\n        let { props } = this;\n        if (props.forPrint) {\n            return renderPlainFgSegs(sortedFgSegs, props);\n        }\n        return this.renderPositionedFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting, forcedKey);\n    }\n    renderPositionedFgSegs(segs, // if not mirror, needs to be sorted\n    segIsInvisible, isDragging, isResizing, isDateSelecting, forcedKey) {\n        let { eventMaxStack, eventShortHeight, eventOrderStrict, eventMinHeight } = this.context.options;\n        let { date, slatCoords, eventSelection, todayRange, nowDate } = this.props;\n        let isMirror = isDragging || isResizing || isDateSelecting;\n        let segVCoords = computeSegVCoords(segs, date, slatCoords, eventMinHeight);\n        let { segPlacements, hiddenGroups } = computeFgSegPlacements(segs, segVCoords, eventOrderStrict, eventMaxStack);\n        return (createElement(Fragment, null,\n            this.renderHiddenGroups(hiddenGroups, segs),\n            segPlacements.map((segPlacement) => {\n                let { seg, rect } = segPlacement;\n                let instanceId = seg.eventRange.instance.instanceId;\n                let isVisible = isMirror || Boolean(!segIsInvisible[instanceId] && rect);\n                let vStyle = computeSegVStyle(rect && rect.span);\n                let hStyle = (!isMirror && rect) ? this.computeSegHStyle(rect) : { left: 0, right: 0 };\n                let isInset = Boolean(rect) && rect.stackForward > 0;\n                let isShort = Boolean(rect) && (rect.span.end - rect.span.start) < eventShortHeight; // look at other places for this problem\n                return (createElement(\"div\", { className: 'fc-timegrid-event-harness' +\n                        (isInset ? ' fc-timegrid-event-harness-inset' : ''), key: forcedKey || instanceId, style: Object.assign(Object.assign({ visibility: isVisible ? '' : 'hidden' }, vStyle), hStyle) },\n                    createElement(TimeColEvent, Object.assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, isShort: isShort }, getSegMeta(seg, todayRange, nowDate)))));\n            })));\n    }\n    // will already have eventMinHeight applied because segInputs already had it\n    renderHiddenGroups(hiddenGroups, segs) {\n        let { extraDateSpan, dateProfile, todayRange, nowDate, eventSelection, eventDrag, eventResize } = this.props;\n        return (createElement(Fragment, null, hiddenGroups.map((hiddenGroup) => {\n            let positionCss = computeSegVStyle(hiddenGroup.span);\n            let hiddenSegs = compileSegsFromEntries(hiddenGroup.entries, segs);\n            return (createElement(TimeColMoreLink, { key: buildIsoString(computeEarliestSegStart(hiddenSegs)), hiddenSegs: hiddenSegs, top: positionCss.top, bottom: positionCss.bottom, extraDateSpan: extraDateSpan, dateProfile: dateProfile, todayRange: todayRange, nowDate: nowDate, eventSelection: eventSelection, eventDrag: eventDrag, eventResize: eventResize }));\n        })));\n    }\n    renderFillSegs(segs, fillType) {\n        let { props, context } = this;\n        let segVCoords = computeSegVCoords(segs, props.date, props.slatCoords, context.options.eventMinHeight); // don't assume all populated\n        let children = segVCoords.map((vcoords, i) => {\n            let seg = segs[i];\n            return (createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-timegrid-bg-harness\", style: computeSegVStyle(vcoords) }, fillType === 'bg-event' ?\n                createElement(BgEvent, Object.assign({ seg: seg }, getSegMeta(seg, props.todayRange, props.nowDate))) :\n                renderFill(fillType)));\n        });\n        return createElement(Fragment, null, children);\n    }\n    renderNowIndicator(segs) {\n        let { slatCoords, date } = this.props;\n        if (!slatCoords) {\n            return null;\n        }\n        return segs.map((seg, i) => (createElement(NowIndicatorContainer\n        // key doesn't matter. will only ever be one\n        , { \n            // key doesn't matter. will only ever be one\n            key: i, elClasses: ['fc-timegrid-now-indicator-line'], elStyle: {\n                top: slatCoords.computeDateTop(seg.start, date),\n            }, isAxis: false, date: date })));\n    }\n    computeSegHStyle(segHCoords) {\n        let { isRtl, options } = this.context;\n        let shouldOverlap = options.slotEventOverlap;\n        let nearCoord = segHCoords.levelCoord; // the left side if LTR. the right side if RTL. floating-point\n        let farCoord = segHCoords.levelCoord + segHCoords.thickness; // the right side if LTR. the left side if RTL. floating-point\n        let left; // amount of space from left edge, a fraction of the total width\n        let right; // amount of space from right edge, a fraction of the total width\n        if (shouldOverlap) {\n            // double the width, but don't go beyond the maximum forward coordinate (1.0)\n            farCoord = Math.min(1, nearCoord + (farCoord - nearCoord) * 2);\n        }\n        if (isRtl) {\n            left = 1 - farCoord;\n            right = nearCoord;\n        }\n        else {\n            left = nearCoord;\n            right = 1 - farCoord;\n        }\n        let props = {\n            zIndex: segHCoords.stackDepth + 1,\n            left: left * 100 + '%',\n            right: right * 100 + '%',\n        };\n        if (shouldOverlap && !segHCoords.stackForward) {\n            // add padding to the edge so that forward stacked events don't cover the resizer's icon\n            props[isRtl ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\n        }\n        return props;\n    }\n}\nfunction renderPlainFgSegs(sortedFgSegs, { todayRange, nowDate, eventSelection, eventDrag, eventResize }) {\n    let hiddenInstances = (eventDrag ? eventDrag.affectedInstances : null) ||\n        (eventResize ? eventResize.affectedInstances : null) ||\n        {};\n    return (createElement(Fragment, null, sortedFgSegs.map((seg) => {\n        let instanceId = seg.eventRange.instance.instanceId;\n        return (createElement(\"div\", { key: instanceId, style: { visibility: hiddenInstances[instanceId] ? 'hidden' : '' } },\n            createElement(TimeColEvent, Object.assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === eventSelection, isShort: false }, getSegMeta(seg, todayRange, nowDate)))));\n    })));\n}\nfunction computeSegVStyle(segVCoords) {\n    if (!segVCoords) {\n        return { top: '', bottom: '' };\n    }\n    return {\n        top: segVCoords.start,\n        bottom: -segVCoords.end,\n    };\n}\nfunction compileSegsFromEntries(segEntries, allSegs) {\n    return segEntries.map((segEntry) => allSegs[segEntry.index]);\n}\n\nclass TimeColsContent extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.splitFgEventSegs = memoize(splitSegsByCol);\n        this.splitBgEventSegs = memoize(splitSegsByCol);\n        this.splitBusinessHourSegs = memoize(splitSegsByCol);\n        this.splitNowIndicatorSegs = memoize(splitSegsByCol);\n        this.splitDateSelectionSegs = memoize(splitSegsByCol);\n        this.splitEventDrag = memoize(splitInteractionByCol);\n        this.splitEventResize = memoize(splitInteractionByCol);\n        this.rootElRef = createRef();\n        this.cellElRefs = new RefMap();\n    }\n    render() {\n        let { props, context } = this;\n        let nowIndicatorTop = context.options.nowIndicator &&\n            props.slatCoords &&\n            props.slatCoords.safeComputeTop(props.nowDate); // might return void\n        let colCnt = props.cells.length;\n        let fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, colCnt);\n        let bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, colCnt);\n        let businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, colCnt);\n        let nowIndicatorSegsByRow = this.splitNowIndicatorSegs(props.nowIndicatorSegs, colCnt);\n        let dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, colCnt);\n        let eventDragByRow = this.splitEventDrag(props.eventDrag, colCnt);\n        let eventResizeByRow = this.splitEventResize(props.eventResize, colCnt);\n        return (createElement(\"div\", { className: \"fc-timegrid-cols\", ref: this.rootElRef },\n            createElement(\"table\", { role: \"presentation\", style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                } },\n                props.tableColGroupNode,\n                createElement(\"tbody\", { role: \"presentation\" },\n                    createElement(\"tr\", { role: \"row\" },\n                        props.axis && (createElement(\"td\", { \"aria-hidden\": true, className: \"fc-timegrid-col fc-timegrid-axis\" },\n                            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, typeof nowIndicatorTop === 'number' && (createElement(NowIndicatorContainer, { elClasses: ['fc-timegrid-now-indicator-arrow'], elStyle: { top: nowIndicatorTop }, isAxis: true, date: props.nowDate })))))),\n                        props.cells.map((cell, i) => (createElement(TimeCol, { key: cell.key, elRef: this.cellElRefs.createRef(cell.key), dateProfile: props.dateProfile, date: cell.date, nowDate: props.nowDate, todayRange: props.todayRange, extraRenderProps: cell.extraRenderProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, fgEventSegs: fgEventSegsByRow[i], bgEventSegs: bgEventSegsByRow[i], businessHourSegs: businessHourSegsByRow[i], nowIndicatorSegs: nowIndicatorSegsByRow[i], dateSelectionSegs: dateSelectionSegsByRow[i], eventDrag: eventDragByRow[i], eventResize: eventResizeByRow[i], slatCoords: props.slatCoords, eventSelection: props.eventSelection, forPrint: props.forPrint }))))))));\n    }\n    componentDidMount() {\n        this.updateCoords();\n    }\n    componentDidUpdate() {\n        this.updateCoords();\n    }\n    updateCoords() {\n        let { props } = this;\n        if (props.onColCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            props.onColCoords(new PositionCache(this.rootElRef.current, collectCellEls(this.cellElRefs.currentMap, props.cells), true, // horizontal\n            false));\n        }\n    }\n}\nfunction collectCellEls(elMap, cells) {\n    return cells.map((cell) => elMap[cell.key]);\n}\n\n/* A component that renders one or more columns of vertical time slots\n----------------------------------------------------------------------------------------------------------------------*/\nclass TimeCols extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.processSlotOptions = memoize(processSlotOptions);\n        this.state = {\n            slatCoords: null,\n        };\n        this.handleRootEl = (el) => {\n            if (el) {\n                this.context.registerInteractiveComponent(this, {\n                    el,\n                    isHitComboAllowed: this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                this.context.unregisterInteractiveComponent(this);\n            }\n        };\n        this.handleScrollRequest = (request) => {\n            let { onScrollTopRequest } = this.props;\n            let { slatCoords } = this.state;\n            if (onScrollTopRequest && slatCoords) {\n                if (request.time) {\n                    let top = slatCoords.computeTimeTop(request.time);\n                    top = Math.ceil(top); // zoom can give weird floating-point values. rather scroll a little bit further\n                    if (top) {\n                        top += 1; // to overcome top border that slots beyond the first have. looks better\n                    }\n                    onScrollTopRequest(top);\n                }\n                return true;\n            }\n            return false;\n        };\n        this.handleColCoords = (colCoords) => {\n            this.colCoords = colCoords;\n        };\n        this.handleSlatCoords = (slatCoords) => {\n            this.setState({ slatCoords });\n            if (this.props.onSlatCoords) {\n                this.props.onSlatCoords(slatCoords);\n            }\n        };\n    }\n    render() {\n        let { props, state } = this;\n        return (createElement(\"div\", { className: \"fc-timegrid-body\", ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(TimeColsSlats, { axis: props.axis, dateProfile: props.dateProfile, slatMetas: props.slatMetas, clientWidth: props.clientWidth, minHeight: props.expandRows ? props.clientHeight : '', tableMinWidth: props.tableMinWidth, tableColGroupNode: props.axis ? props.tableColGroupNode : null /* axis depends on the colgroup's shrinking */, onCoords: this.handleSlatCoords }),\n            createElement(TimeColsContent, { cells: props.cells, axis: props.axis, dateProfile: props.dateProfile, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange, nowDate: props.nowDate, nowIndicatorSegs: props.nowIndicatorSegs, clientWidth: props.clientWidth, tableMinWidth: props.tableMinWidth, tableColGroupNode: props.tableColGroupNode, slatCoords: state.slatCoords, onColCoords: this.handleColCoords, forPrint: props.forPrint })));\n    }\n    componentDidMount() {\n        this.scrollResponder = this.context.createScrollResponder(this.handleScrollRequest);\n    }\n    componentDidUpdate(prevProps) {\n        this.scrollResponder.update(prevProps.dateProfile !== this.props.dateProfile);\n    }\n    componentWillUnmount() {\n        this.scrollResponder.detach();\n    }\n    queryHit(positionLeft, positionTop) {\n        let { dateEnv, options } = this.context;\n        let { colCoords } = this;\n        let { dateProfile } = this.props;\n        let { slatCoords } = this.state;\n        let { snapDuration, snapsPerSlot } = this.processSlotOptions(this.props.slotDuration, options.snapDuration);\n        let colIndex = colCoords.leftToIndex(positionLeft);\n        let slatIndex = slatCoords.positions.topToIndex(positionTop);\n        if (colIndex != null && slatIndex != null) {\n            let cell = this.props.cells[colIndex];\n            let slatTop = slatCoords.positions.tops[slatIndex];\n            let slatHeight = slatCoords.positions.getHeight(slatIndex);\n            let partial = (positionTop - slatTop) / slatHeight; // floating point number between 0 and 1\n            let localSnapIndex = Math.floor(partial * snapsPerSlot); // the snap # relative to start of slat\n            let snapIndex = slatIndex * snapsPerSlot + localSnapIndex;\n            let dayDate = this.props.cells[colIndex].date;\n            let time = addDurations(dateProfile.slotMinTime, multiplyDuration(snapDuration, snapIndex));\n            let start = dateEnv.add(dayDate, time);\n            let end = dateEnv.add(start, snapDuration);\n            return {\n                dateProfile,\n                dateSpan: Object.assign({ range: { start, end }, allDay: false }, cell.extraDateSpan),\n                dayEl: colCoords.els[colIndex],\n                rect: {\n                    left: colCoords.lefts[colIndex],\n                    right: colCoords.rights[colIndex],\n                    top: slatTop,\n                    bottom: slatTop + slatHeight,\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    }\n}\nfunction processSlotOptions(slotDuration, snapDurationOverride) {\n    let snapDuration = snapDurationOverride || slotDuration;\n    let snapsPerSlot = wholeDivideDurations(slotDuration, snapDuration);\n    if (snapsPerSlot === null) {\n        snapDuration = slotDuration;\n        snapsPerSlot = 1;\n        // TODO: say warning?\n    }\n    return { snapDuration, snapsPerSlot };\n}\n\nclass DayTimeColsSlicer extends Slicer {\n    sliceRange(range, dayRanges) {\n        let segs = [];\n        for (let col = 0; col < dayRanges.length; col += 1) {\n            let segRange = intersectRanges(range, dayRanges[col]);\n            if (segRange) {\n                segs.push({\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: segRange.end.valueOf() === range.end.valueOf(),\n                    col,\n                });\n            }\n        }\n        return segs;\n    }\n}\n\nclass DayTimeCols extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.buildDayRanges = memoize(buildDayRanges);\n        this.slicer = new DayTimeColsSlicer();\n        this.timeColsRef = createRef();\n    }\n    render() {\n        let { props, context } = this;\n        let { dateProfile, dayTableModel } = props;\n        let { nowIndicator, nextDayThreshold } = context.options;\n        let dayRanges = this.buildDayRanges(dayTableModel, dateProfile, context.dateEnv);\n        // give it the first row of cells\n        // TODO: would move this further down hierarchy, but sliceNowDate needs it\n        return (createElement(NowTimer, { unit: nowIndicator ? 'minute' : 'day' }, (nowDate, todayRange) => (createElement(TimeCols, Object.assign({ ref: this.timeColsRef }, this.slicer.sliceProps(props, dateProfile, null, context, dayRanges), { forPrint: props.forPrint, axis: props.axis, dateProfile: dateProfile, slatMetas: props.slatMetas, slotDuration: props.slotDuration, cells: dayTableModel.cells[0], tableColGroupNode: props.tableColGroupNode, tableMinWidth: props.tableMinWidth, clientWidth: props.clientWidth, clientHeight: props.clientHeight, expandRows: props.expandRows, nowDate: nowDate, nowIndicatorSegs: nowIndicator && this.slicer.sliceNowDate(nowDate, dateProfile, nextDayThreshold, context, dayRanges), todayRange: todayRange, onScrollTopRequest: props.onScrollTopRequest, onSlatCoords: props.onSlatCoords })))));\n    }\n}\nfunction buildDayRanges(dayTableModel, dateProfile, dateEnv) {\n    let ranges = [];\n    for (let date of dayTableModel.headerDates) {\n        ranges.push({\n            start: dateEnv.add(date, dateProfile.slotMinTime),\n            end: dateEnv.add(date, dateProfile.slotMaxTime),\n        });\n    }\n    return ranges;\n}\n\n// potential nice values for the slot-duration and interval-duration\n// from largest to smallest\nconst STOCK_SUB_DURATIONS = [\n    { hours: 1 },\n    { minutes: 30 },\n    { minutes: 15 },\n    { seconds: 30 },\n    { seconds: 15 },\n];\nfunction buildSlatMetas(slotMinTime, slotMaxTime, explicitLabelInterval, slotDuration, dateEnv) {\n    let dayStart = new Date(0);\n    let slatTime = slotMinTime;\n    let slatIterator = createDuration(0);\n    let labelInterval = explicitLabelInterval || computeLabelInterval(slotDuration);\n    let metas = [];\n    while (asRoughMs(slatTime) < asRoughMs(slotMaxTime)) {\n        let date = dateEnv.add(dayStart, slatTime);\n        let isLabeled = wholeDivideDurations(slatIterator, labelInterval) !== null;\n        metas.push({\n            date,\n            time: slatTime,\n            key: date.toISOString(),\n            isoTimeStr: formatIsoTimeString(date),\n            isLabeled,\n        });\n        slatTime = addDurations(slatTime, slotDuration);\n        slatIterator = addDurations(slatIterator, slotDuration);\n    }\n    return metas;\n}\n// Computes an automatic value for slotLabelInterval\nfunction computeLabelInterval(slotDuration) {\n    let i;\n    let labelInterval;\n    let slotsPerLabel;\n    // find the smallest stock label interval that results in more than one slots-per-label\n    for (i = STOCK_SUB_DURATIONS.length - 1; i >= 0; i -= 1) {\n        labelInterval = createDuration(STOCK_SUB_DURATIONS[i]);\n        slotsPerLabel = wholeDivideDurations(labelInterval, slotDuration);\n        if (slotsPerLabel !== null && slotsPerLabel > 1) {\n            return labelInterval;\n        }\n    }\n    return slotDuration; // fall back\n}\n\nclass DayTimeColsView extends TimeColsView {\n    constructor() {\n        super(...arguments);\n        this.buildTimeColsModel = memoize(buildTimeColsModel);\n        this.buildSlatMetas = memoize(buildSlatMetas);\n    }\n    render() {\n        let { options, dateEnv, dateProfileGenerator } = this.context;\n        let { props } = this;\n        let { dateProfile } = props;\n        let dayTableModel = this.buildTimeColsModel(dateProfile, dateProfileGenerator);\n        let splitProps = this.allDaySplitter.splitProps(props);\n        let slatMetas = this.buildSlatMetas(dateProfile.slotMinTime, dateProfile.slotMaxTime, options.slotLabelInterval, options.slotDuration, dateEnv);\n        let { dayMinWidth } = options;\n        let hasAttachedAxis = !dayMinWidth;\n        let hasDetachedAxis = dayMinWidth;\n        let headerContent = options.dayHeaders && (createElement(DayHeader, { dates: dayTableModel.headerDates, dateProfile: dateProfile, datesRepDistinctDays: true, renderIntro: hasAttachedAxis ? this.renderHeadAxis : null }));\n        let allDayContent = (options.allDaySlot !== false) && ((contentArg) => (createElement(DayTable, Object.assign({}, splitProps.allDay, { dateProfile: dateProfile, dayTableModel: dayTableModel, nextDayThreshold: options.nextDayThreshold, tableMinWidth: contentArg.tableMinWidth, colGroupNode: contentArg.tableColGroupNode, renderRowIntro: hasAttachedAxis ? this.renderTableRowAxis : null, showWeekNumbers: false, expandRows: false, headerAlignElRef: this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }, this.getAllDayMaxEventProps()))));\n        let timeGridContent = (contentArg) => (createElement(DayTimeCols, Object.assign({}, splitProps.timed, { dayTableModel: dayTableModel, dateProfile: dateProfile, axis: hasAttachedAxis, slotDuration: options.slotDuration, slatMetas: slatMetas, forPrint: props.forPrint, tableColGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, onSlatCoords: this.handleSlatCoords, expandRows: contentArg.expandRows, onScrollTopRequest: this.handleScrollTopRequest })));\n        return hasDetachedAxis\n            ? this.renderHScrollLayout(headerContent, allDayContent, timeGridContent, dayTableModel.colCnt, dayMinWidth, slatMetas, this.state.slatCoords)\n            : this.renderSimpleLayout(headerContent, allDayContent, timeGridContent);\n    }\n}\nfunction buildTimeColsModel(dateProfile, dateProfileGenerator) {\n    let daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, false);\n}\n\nvar css_248z = \".fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:\\\"\\\\00a0\\\"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:\\\"\\\\00a0-\\\\00a0\\\"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}\";\ninjectStyles(css_248z);\n\nexport { DayTimeCols, DayTimeColsSlicer, DayTimeColsView, TimeCols, TimeColsSlatsCoords, TimeColsView, buildDayRanges, buildSlatMetas, buildTimeColsModel };\n","import { createPlugin } from '@fullcalendar/core/index.js';\nimport { DayTimeColsView } from './internal.js';\nimport '@fullcalendar/core/internal.js';\nimport '@fullcalendar/core/preact.js';\nimport '@fullcalendar/daygrid/internal.js';\n\nconst OPTION_REFINERS = {\n    allDaySlot: Boolean,\n};\n\nvar index = createPlugin({\n    name: '@fullcalendar/timegrid',\n    initialView: 'timeGridWeek',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        timeGrid: {\n            component: DayTimeColsView,\n            usesMinMaxTime: true,\n            allDaySlot: true,\n            slotDuration: '00:30:00',\n            slotEventOverlap: true, // a bad name. confused with overlap/constraint system\n        },\n        timeGridDay: {\n            type: 'timeGrid',\n            duration: { days: 1 },\n        },\n        timeGridWeek: {\n            type: 'timeGrid',\n            duration: { weeks: 1 },\n        },\n    },\n});\n\nexport { index as default };\n"],"names":["call","defineBuiltIn","getBuiltIn","getMethod","hasOwn","wellKnownSymbol","AsyncIteratorPrototype","ASYNC_DISPOSE","Promise","O","this","resolve","reject","$return","then","undefined","path","wrappedWellKnownSymbolModule","defineProperty","module","exports","NAME","Symbol","value","f","createNonEnumerableProperty","clearErrorStack","ERROR_STACK_INSTALLABLE","captureStackTrace","Error","error","C","stack","dropEntries","prototype","globalThis","shared","isCallable","create","getPrototypeOf","IS_PURE","USE_FUNCTION_CONSTRUCTOR","ASYNC_ITERATOR","AsyncIterator","PassedAsyncIteratorPrototype","Function","Object","defineWellKnownSymbol","getOwnPropertyDescriptor","descriptor","enumerable","configurable","writable","fails","createPropertyDescriptor","IteratorPrototype","DISPOSE","recurringType","parse","eventProps","dateEnv","rrule","eventRRuleData","parseEventRRule","typeData","rruleSet","isTimeZoneSpecified","allDayGuess","isTimeSpecified","duration","expand","framingRange","calendarDateEnv","between","addDays","start","end","map","date","createMarker","toDate","res","parseRRuleString","parseRRuleObject","rruleLib","exdateInputs","concat","exdate","exruleInputs","exrule","exdateInput","parseMarker","isTimeUnspecified","timeZoneOffset","Date","marker","valueOf","exruleInput","rruleInput","processDateInput","dateInput","markerData","rruleOptions","assign","dtstart","until","freq","convertConstant","wkst","weekDow","byweekday","convertConstants","str","forceset","analysis","analyzeRRuleString","processMatch","whole","introPart","datePart","result","replace","input","Array","isArray","toUpperCase","RRULE_EVENT_REFINERS","identity","createDuration","index","createPlugin","name","recurringTypes","eventRefiners","$","isPrototypeOf","setPrototypeOf","copyConstructorProperties","installErrorStack","normalizeStringArgument","NativeSuppressedError","SuppressedError","TO_STRING_TAG","$Error","WRONG_ARITY","length","EXTRA_ARGS_SUPPORT","cause","PATCH","$SuppressedError","suppressed","message","that","isInstance","SuppressedErrorPrototype","constructor","global","arity","forced","DateComponent","splitSegsByRow","segs","rowCnt","byRow","i","seg","row","push","splitSegsByFirstCol","colCnt","byCol","firstCol","splitInteractionByRow","ui","affectedInstances","isEvent","DEFAULT_TABLE_EVENT_TIME_FORMAT","createFormatter","hour","minute","omitZeroMinute","meridiem","hasListItemDisplay","display","eventRange","def","allDay","lastCol","isStart","isEnd","TableBlockEvent","BaseComponent","render","props","createElement","StandardEvent","elClasses","defaultTimeFormat","defaultDisplayEventEnd","disableResizing","TableListItemEvent","context","options","timeFormat","eventTimeFormat","timeText","buildSegTimeText","EventContainer","elTag","elAttrs","getSegAnchorAttrs","defaultGenerator","renderInnerContent","isResizing","isDateSelecting","renderProps","Fragment","className","style","borderColor","backgroundColor","event","title","TableCellMoreLink","super","arguments","compileSegs","memoize","allSegs","invisibleSegs","singlePlacements","MoreLinkContainer","dateProfile","todayRange","allDayDate","moreCnt","hiddenSegs","alignmentElRef","alignGridTop","extraDateSpan","popoverContent","isForcedInvisible","eventDrag","eventResize","instanceId","instance","key","visibility","isDragging","isSelected","eventSelection","getSegMeta","placement","isVisible","DEFAULT_WEEK_NUM_FORMAT","week","TableCell","rootElRef","createRef","state","dayNumberId","getUniqueDomId","handleRootEl","el","setRef","elRef","isMonthStart","showDayNumber","shouldDisplayMonthStart","currentRange","DayCellContainer","extraClassNames","extraDataAttrs","role","renderTopInner","extraRenderProps","InnerContent","ref","innerElRef","minHeight","showWeekNumber","WeekNumberContainer","buildNavLinkAttrs","defaultFormat","isDisabled","hasCustomDayCellContent","forceDayTop","id","fgContentElRef","fgContent","marginTop","moreMarginTop","bgContent","dayNumberText","currentStart","currentEnd","currentEndIncl","addMs","currentFirstYear","getYear","currentFirstMonth","getMonth","currentLastYear","currentLastMonth","Boolean","getDay","generateSegKey","generateSegUid","computeFgSegPlacement","dayMaxEvents","dayMaxEventRows","strictOrder","segHeights","maxContentHeight","cells","hierarchy","DayGridSegHierarchy","segEntry","segUid","span","allowReslicing","maxCoord","hiddenConsumes","maxStackCnt","segInputs","unknownHeightSegs","eventHeight","hiddenEntries","addSegs","segRects","toRects","singleColPlacements","multiColPlacements","leftoverMargins","placeRects","moreCnts","moreMarginTops","isAbsolute","absoluteTop","col","resliceSeg","hiddenEntry","hiddenSpan","allRects","rectsByEachCol","groupRectsByEachCol","rects","currentHeight","currentMarginTop","rect","levelCoord","thickness","multiPlacements","isFirstCol","spanStart","spanEnd","origRange","range","slicedRange","intersectRanges","durationEditable","SegHierarchy","forceHidden","entriesByLevel","excludeHidden","entry","buildEntryKey","level","filter","handleInvalidInsertion","insertion","touchingEntry","touchingLevel","touchingLateral","touchingEntryId","intersectSpans","hiddenEntryId","splitEntry","TableRow","cellElRefs","RefMap","frameElRefs","fgElRefs","segHarnessRefs","framePositions","handleResize","isForced","updateSizing","businessHoursByCol","businessHourSegs","bgEventSegsByCol","bgEventSegs","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","sortEventSegs","fgEventSegs","eventOrder","eventOrderStrict","renderIntro","cell","normalFgNodes","renderFgSegs","forPrint","mirrorFgNodes","buildMirrorPlacements","showDayNumbers","showWeekNumbers","renderFillSegs","cellMinHeight","componentDidMount","addResizeHandler","componentDidUpdate","prevProps","prevState","currentProps","isPropsEqual","componentWillUnmount","removeResizeHandler","dateSelectionSegs","segPlacements","isMirror","nodes","left","right","isRtl","lefts","rights","top","fillType","leftRightCss","buildEventRangeKey","BgEvent","renderFill","isExternalSizingChange","clientWidth","frameEls","currentMap","originEl","current","newPositionCache","PositionCache","similarTo","setState","oldSegHeights","newSegHeights","querySegHeights","limitByContentHeight","safeSetState","computeMaxContentHeight","segElMap","height","Math","round","getBoundingClientRect","max","firstKey","cellEl","fcContainerEl","bottom","getCellEls","elMap","mirrorSegs","colPlacements","topsByInstanceId","buildAbsoluteTopHash","placements","addStateEquality","TableRows","splitBusinessHourSegs","splitBgEventSegs","splitAllDaySegsByRow","splitFgEventSegs","splitDateSelectionSegs","splitEventDrag","splitEventResize","rowRefs","businessHourSegsByRow","bgEventSegsByRow","fgEventSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","aspectRatio","NowTimer","unit","nowDate","toISOString","renderRowIntro","clientHeight","registerInteractiveComponent","rootEl","firstCellEl","closest","isHitComboAllowed","unregisterInteractiveComponent","prepareHits","rowPositions","collect","rowObj","colPositions","queryHit","positionLeft","positionTop","leftToIndex","topToIndex","dateSpan","getCellRange","dayEl","getCellEl","tops","bottoms","layer","isSegAllDay","Table","needsScrollReset","expandRows","limitViaBalanced","classNames","join","width","minWidth","tableMinWidth","colGroupNode","requestScrollReset","flushScrollReset","subjectEl","getScrollSubjectEl","scrollEl","scrollTop","containerEl","currentRangeUnit","match","querySelector","formatIsoMonthStr","currentDate","formatDayString","DayTableSlicer","Slicer","forceDayIfListItem","sliceRange","dateRange","dayTableModel","DayTable","slicer","tableRef","sliceProps","nextDayThreshold","headerAlignElRef","css_248z","injectStyles","AllDaySplitter","Splitter","getKeyInfo","timed","getKeysForDateSpan","getKeysForEventDef","eventDef","hasBgRendering","DEFAULT_SLAT_LABEL_FORMAT","TimeColsAxisCell","isLabeled","ViewContextType","Consumer","isoTimeStr","viewApi","labelFormat","slotLabelFormat","time","view","text","format","ContentContainer","generatorName","customGenerator","slotLabelContent","classNameGenerator","slotLabelClassNames","didMount","slotLabelDidMount","willUnmount","slotLabelWillUnmount","TimeBodyAxis","slatMetas","slatMeta","AUTO_ALL_DAY_MAX_EVENT_ROWS","TimeColsView","allDaySplitter","headerElRef","scrollerElRef","slatCoords","handleScrollTopRequest","scrollerEl","renderHeadAxis","rowKey","frameHeight","renderRange","dayCnt","diffDays","navLinkAttrs","weekNumbers","renderTableRowAxis","rowHeight","allDayText","allDayContent","renderAllDayInner","allDayClassNames","allDayDidMount","allDayWillUnmount","handleSlatCoords","renderSimpleLayout","headerRowContent","timeContent","sections","stickyHeaderDates","getStickyHeaderDates","type","isSticky","chunk","tableClassName","rowContent","content","outerContent","theme","getClass","liquid","ViewContainer","viewSpec","SimpleScrollGrid","isHeightAuto","collapsibleWidth","cols","renderHScrollLayout","dayMinWidth","ScrollGrid","pluginHooks","scrollGridImpl","stickyFooterScrollbar","getStickyFooterScrollbar","syncRowHeights","chunks","arg","rowSyncHeights","contentArg","colSpan","isNowIndicator","nowIndicator","tableColGroupNode","nowIndicatorTop","safeComputeTop","NowIndicatorContainer","elStyle","isAxis","renderScrollShim","colGroups","getAllDayMaxEventProps","TimeColsSlatsCoords","positions","slotDuration","rangeContainsMarker","startOfDayDate","startOfDay","timeMs","asRoughMs","slotMinTime","slotMaxTime","computeTimeTop","computeDateTop","when","slatIndex","slatRemainder","len","els","slatCoverage","milliseconds","min","floor","getHeight","TimeColsSlatsBody","slatElRefs","axis","slotLaneContent","slotLaneClassNames","slotLaneDidMount","slotLaneWillUnmount","TimeColsSlats","onCoords","offsetHeight","collectSlatEls","splitSegsByCol","segsByCol","splitInteractionByCol","TimeColMoreLink","renderPlainFgSegs","renderMoreLinkInner","forceTimed","shortText","buildPositioning","hiddenGroups","groupIntersectingEntries","web","buildWeb","stretchWeb","webToRects","buildNode","cacheable","lateral","siblingRange","findNextLevelSegs","nextLevelRes","buildNodes","nextLevelNodes","lateralStart","lateralEnd","pairs","sort","cmpDescPressures","extractNode","a","b","subjectLevel","subjectLateral","levelCoords","subjectEntry","afterSubject","levelCnt","entries","searchIndex","binarySearch","getEntrySpanEnd","topLevelNodes","totalThickness","stretchNode","node","startCoord","prevThickness","endCoord","allThickness","thicknessFraction","newChildren","childNode","newThickness","processNode","stackDepth","stackForward","processNodes","keyFunc","workFunc","cache","args","computeSegVCoords","colDate","eventMinHeight","vcoords","computeFgSegPlacements","segVCoords","eventMaxStack","dumbSegs","segRect","dumbSeg","DEFAULT_TIME_FORMAT","TimeColEvent","isShort","TimeCol","isSelectMirror","selectMirror","interactionAffectedInstances","sortedFgSegs","renderNowIndicator","nowIndicatorSegs","segIsInvisible","forcedKey","renderPositionedFgSegs","eventShortHeight","renderHiddenGroups","segPlacement","vStyle","computeSegVStyle","hStyle","computeSegHStyle","isInset","hiddenGroup","positionCss","compileSegsFromEntries","buildIsoString","computeEarliestSegStart","children","segHCoords","shouldOverlap","slotEventOverlap","nearCoord","farCoord","zIndex","hiddenInstances","segEntries","TimeColsContent","splitNowIndicatorSegs","nowIndicatorSegsByRow","updateCoords","onColCoords","collectCellEls","TimeCols","processSlotOptions","handleScrollRequest","request","onScrollTopRequest","ceil","handleColCoords","colCoords","onSlatCoords","scrollResponder","createScrollResponder","update","detach","snapDuration","snapsPerSlot","colIndex","slatTop","slatHeight","partial","localSnapIndex","snapIndex","dayDate","addDurations","multiplyDuration","add","snapDurationOverride","wholeDivideDurations","DayTimeColsSlicer","dayRanges","segRange","DayTimeCols","buildDayRanges","timeColsRef","sliceNowDate","ranges","headerDates","STOCK_SUB_DURATIONS","hours","minutes","seconds","buildSlatMetas","explicitLabelInterval","dayStart","slatTime","slatIterator","labelInterval","computeLabelInterval","metas","formatIsoTimeString","slotsPerLabel","DayTimeColsView","buildTimeColsModel","dateProfileGenerator","splitProps","slotLabelInterval","hasAttachedAxis","hasDetachedAxis","headerContent","dayHeaders","DayHeader","dates","datesRepDistinctDays","allDaySlot","timeGridContent","daySeries","DaySeriesModel","DayTableModel","OPTION_REFINERS","initialView","optionRefiners","views","timeGrid","component","usesMinMaxTime","timeGridDay","days","timeGridWeek","weeks"],"sourceRoot":""}