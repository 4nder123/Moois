"use strict";(self["webpackChunkMoois"]=self["webpackChunkMoois"]||[]).push([[416],{9416:function(e,t,n){n.r(t),n.d(t,{default:function(){return vr}});var r=n(6768);function i(e,t,n,i,s,o){const a=(0,r.g2)("FullCalendar");return(0,r.uX)(),(0,r.Wv)(a,{class:"calendar",ref:"fullCalendar",options:s.calendarOptions},null,8,["options"])}n(4114),n(8111),n(7588),n(3579),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698);var s=n(3535),o=n(4273),a=n(6730),l=(n(1701),n(9403)),d=n(7533);n(2489);l.bc;function c(e,t){let n=[];for(let r=0;r<t;r+=1)n[r]=[];for(let r of e)n[r.row].push(r);return n}function h(e,t){let n=[];for(let r=0;r<t;r+=1)n[r]=[];for(let r of e)n[r.firstCol].push(r);return n}function u(e,t){let n=[];if(e){for(let r=0;r<t;r+=1)n[r]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let t of e.segs)n[t.row].segs.push(t)}else for(let r=0;r<t;r+=1)n[r]=null;return n}const f=(0,l.x)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function p(e){let{display:t}=e.eventRange.ui;return"list-item"===t||"auto"===t&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}class y extends l.B{render(){let{props:e}=this;return(0,d.n)(l.cg,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:f,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class g extends l.B{render(){let{props:e,context:t}=this,{options:n}=t,{seg:r}=e,i=n.eventTimeFormat||f,s=(0,l.bO)(r,i,t,!0,e.defaultDisplayEventEnd);return(0,d.n)(l.ck,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:(0,l.bS)(e.seg,t),defaultGenerator:m,timeText:s,isResizing:!1,isDateSelecting:!1}))}}function m(e){return(0,d.n)(d.FK,null,(0,d.n)("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&(0,d.n)("div",{className:"fc-event-time"},e.timeText),(0,d.n)("div",{className:"fc-event-title"},e.event.title||(0,d.n)(d.FK,null," ")))}class b extends l.B{constructor(){super(...arguments),this.compileSegs=(0,l.z)(v)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:n}=this.compileSegs(e.singlePlacements);return(0,d.n)(l.co,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:n,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let n=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return(0,d.n)(d.FK,null,t.map((t=>{let r=t.eventRange.instance.instanceId;return(0,d.n)("div",{className:"fc-daygrid-event-harness",key:r,style:{visibility:n[r]?"hidden":""}},p(t)?(0,d.n)(g,Object.assign({seg:t,isDragging:!1,isSelected:r===e.eventSelection,defaultDisplayEventEnd:!1},(0,l.bQ)(t,e.todayRange))):(0,d.n)(y,Object.assign({seg:t,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:r===e.eventSelection,defaultDisplayEventEnd:!1},(0,l.bQ)(t,e.todayRange))))})))}})}}function v(e){let t=[],n=[];for(let r of e)t.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:t,invisibleSegs:n}}const w=(0,l.x)({week:"narrow"});class x extends l.bc{constructor(){super(...arguments),this.rootElRef=(0,d._3)(),this.state={dayNumberId:(0,l.a3)()},this.handleRootEl=e=>{(0,l.W)(this.rootElRef,e),(0,l.W)(this.props.elRef,e)}}render(){let{context:e,props:t,state:n,rootElRef:r}=this,{options:i,dateEnv:s}=e,{date:o,dateProfile:a}=t;const c=t.showDayNumber&&S(o,a.currentRange,s);return(0,d.n)(l.ci,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:k,date:o,dateProfile:a,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:c,extraRenderProps:t.extraRenderProps},((s,a)=>(0,d.n)("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&(0,d.n)(l.cn,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:(0,l.a_)(e,o,"week"),date:o,defaultFormat:w}),!a.isDisabled&&(t.showDayNumber||(0,l.cj)(i)||t.forceDayTop)?(0,d.n)("div",{className:"fc-daygrid-day-top"},(0,d.n)(s,{elTag:"a",elClasses:["fc-daygrid-day-number",c&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},(0,l.a_)(e,o)),{id:n.dayNumberId})})):t.showDayNumber?(0,d.n)("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},(0,d.n)("a",{className:"fc-daygrid-day-number"}," ")):void 0,(0,d.n)("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,(0,d.n)("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},(0,d.n)(b,{allDayDate:o,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:r,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),(0,d.n)("div",{className:"fc-daygrid-day-bg"},t.bgContent))))}}function k(e){return e.dayNumberText||(0,d.n)(d.FK,null," ")}function S(e,t,n){const{start:r,end:i}=t,s=(0,l.be)(i,-1),o=n.getYear(r),a=n.getMonth(r),d=n.getYear(s),c=n.getMonth(s);return!(o===d&&a===c)&&Boolean(e.valueOf()===r.valueOf()||1===n.getDay(e)&&e.valueOf()<i.valueOf())}function E(e){return e.eventRange.instance.instanceId+":"+e.firstCol}function R(e){return E(e)+":"+e.lastCol}function D(e,t,n,r,i,s,o){let a=new O((t=>{let n=e[t.index].eventRange.instance.instanceId+":"+t.span.start+":"+(t.span.end-1);return i[n]||1}));a.allowReslicing=!0,a.strictOrder=r,!0===t||!0===n?(a.maxCoord=s,a.hiddenConsumes=!0):"number"===typeof t?a.maxStackCnt=t:"number"===typeof n&&(a.maxStackCnt=n,a.hiddenConsumes=!0);let l=[],d=[];for(let m=0;m<e.length;m+=1){let t=e[m],n=R(t),r=i[n];null!=r?l.push({index:m,span:{start:t.firstCol,end:t.lastCol+1}}):d.push(t)}let c=a.addSegs(l),h=a.toRects(),{singleColPlacements:u,multiColPlacements:f,leftoverMargins:p}=T(h,e,o),y=[],g=[];for(let m of d){f[m.firstCol].push({seg:m,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let e=m.firstCol;e<=m.lastCol;e+=1)u[e].push({seg:M(m,e,e+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let m=0;m<o.length;m+=1)y.push(0);for(let m of c){let t=e[m.index],n=m.span;f[n.start].push({seg:M(t,n.start,n.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let e=n.start;e<n.end;e+=1)y[e]+=1,u[e].push({seg:M(t,e,e+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let m=0;m<o.length;m+=1)g.push(p[m]);return{singleColPlacements:u,multiColPlacements:f,moreCnts:y,moreMarginTops:g}}function T(e,t,n){let r=C(e,n.length),i=[],s=[],o=[];for(let a=0;a<n.length;a+=1){let e=r[a],l=[],d=0,c=0;for(let r of e){let e=t[r.index];l.push({seg:M(e,a,a+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:r.levelCoord,marginTop:r.levelCoord-d}),d=r.levelCoord+r.thickness}let h=[];d=0,c=0;for(let r of e){let e=t[r.index],i=r.span.end-r.span.start>1,s=r.span.start===a;c+=r.levelCoord-d,d=r.levelCoord+r.thickness,i?(c+=r.thickness,s&&h.push({seg:M(e,r.span.start,r.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:r.levelCoord,marginTop:0})):s&&(h.push({seg:M(e,r.span.start,r.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:r.levelCoord,marginTop:c}),c=0)}i.push(l),s.push(h),o.push(c)}return{singleColPlacements:i,multiColPlacements:s,leftoverMargins:o}}function C(e,t){let n=[];for(let r=0;r<t;r+=1)n.push([]);for(let r of e)for(let e=r.span.start;e<r.span.end;e+=1)n[e].push(r);return n}function M(e,t,n,r){if(e.firstCol===t&&e.lastCol===n-1)return e;let i=e.eventRange,s=i.range,o=(0,l.o)(s,{start:r[t].date,end:(0,l.t)(r[n-1].date,1)});return Object.assign(Object.assign({},e),{firstCol:t,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:o},isStart:e.isStart&&o.start.valueOf()===s.start.valueOf(),isEnd:e.isEnd&&o.end.valueOf()===s.end.valueOf()})}class O extends l.by{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:n}=this,r=e=>!this.forceHidden[(0,l.bz)(e)];for(let i=0;i<n.length;i+=1)n[i]=n[i].filter(r);return t}handleInvalidInsertion(e,t,n){const{entriesByLevel:r,forceHidden:i}=this,{touchingEntry:s,touchingLevel:o,touchingLateral:a}=e;if(this.hiddenConsumes&&s){const e=(0,l.bz)(s);if(!i[e])if(this.allowReslicing){const e=Object.assign(Object.assign({},s),{span:(0,l.bD)(s.span,t.span)}),d=(0,l.bz)(e);i[d]=!0,r[o][a]=e,n.push(e),this.splitEntry(s,t,n)}else i[e]=!0,n.push(s)}super.handleInvalidInsertion(e,t,n)}}class N extends l.bc{constructor(){super(...arguments),this.cellElRefs=new l.cd,this.frameElRefs=new l.cd,this.fgElRefs=new l.cd,this.segHarnessRefs=new l.cd,this.rootElRef=(0,d._3)(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:n}=this,{options:r}=n,i=e.cells.length,s=h(e.businessHourSegs,i),o=h(e.bgEventSegs,i),a=h(this.getHighlightSegs(),i),c=h(this.getMirrorSegs(),i),{singleColPlacements:u,multiColPlacements:f,moreCnts:p,moreMarginTops:y}=D((0,l.bP)(e.fgEventSegs,r.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,r.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),g=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return(0,d.n)("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map(((t,n)=>{let r=this.renderFgSegs(n,e.forPrint?u[n]:f[n],e.todayRange,g),i=this.renderFgSegs(n,z(c[n],f),e.todayRange,{},Boolean(e.eventDrag),Boolean(e.eventResize),!1);return(0,d.n)(x,{key:t.key,elRef:this.cellElRefs.createRef(t.key),innerElRef:this.frameElRefs.createRef(t.key),dateProfile:e.dateProfile,date:t.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&0===n,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:t.extraRenderProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,moreCnt:p[n],moreMarginTop:y[n],singlePlacements:u[n],fgContentElRef:this.fgElRefs.createRef(t.key),fgContent:(0,d.n)(d.FK,null,(0,d.n)(d.FK,null,r),(0,d.n)(d.FK,null,i)),bgContent:(0,d.n)(d.FK,null,this.renderFillSegs(a[n],"highlight"),this.renderFillSegs(s[n],"non-business"),this.renderFillSegs(o[n],"bg-event")),minHeight:e.cellMinHeight})})))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let n=this.props;this.updateSizing(!(0,l.E)(e,n))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,n,r,i,s,o){let{context:a}=this,{eventSelection:c}=this.props,{framePositions:h}=this.state,u=1===this.props.cells.length,f=i||s||o,m=[];if(h)for(let b of t){let{seg:e}=b,{instanceId:t}=e.eventRange.instance,v=b.isVisible&&!r[t],w=b.isAbsolute,x="",k="";w&&(a.isRtl?(k=0,x=h.lefts[e.lastCol]-h.lefts[e.firstCol]):(x=0,k=h.rights[e.firstCol]-h.rights[e.lastCol])),m.push((0,d.n)("div",{className:"fc-daygrid-event-harness"+(w?" fc-daygrid-event-harness-abs":""),key:E(e),ref:f?null:this.segHarnessRefs.createRef(R(e)),style:{visibility:v?"":"hidden",marginTop:w?"":b.marginTop,top:w?b.absoluteTop:"",left:x,right:k}},p(e)?(0,d.n)(g,Object.assign({seg:e,isDragging:i,isSelected:t===c,defaultDisplayEventEnd:u},(0,l.bQ)(e,n))):(0,d.n)(y,Object.assign({seg:e,isDragging:i,isResizing:s,isDateSelecting:o,isSelected:t===c,defaultDisplayEventEnd:u},(0,l.bQ)(e,n)))))}return m}renderFillSegs(e,t){let{isRtl:n}=this.context,{todayRange:r}=this.props,{framePositions:i}=this.state,s=[];if(i)for(let o of e){let e=n?{right:0,left:i.lefts[o.lastCol]-i.lefts[o.firstCol]}:{left:0,right:i.rights[o.firstCol]-i.rights[o.lastCol]};s.push((0,d.n)("div",{key:(0,l.bR)(o.eventRange),className:"fc-daygrid-bg-harness",style:e},"bg-event"===t?(0,d.n)(l.cm,Object.assign({seg:o},(0,l.bQ)(o,r))):(0,l.cl)(t)))}return(0,d.n)(d.FK,{},...s)}updateSizing(e){let{props:t,state:n,frameElRefs:r}=this;if(!t.forPrint&&null!==t.clientWidth){if(e){let e=t.cells.map((e=>r.currentMap[e.key]));if(e.length){let t=this.rootElRef.current,r=new l.b8(t,e,!0,!1);n.framePositions&&n.framePositions.similarTo(r)||this.setState({framePositions:new l.b8(t,e,!0,!1)})}}const i=this.state.segHeights,s=this.querySegHeights(),o=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.safeSetState({segHeights:Object.assign(Object.assign({},i),s),maxContentHeight:o?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let n in e){let r=Math.round(e[n].getBoundingClientRect().height);t[n]=Math.max(t[n]||0,r)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-n.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map((t=>e[t.key]))}}function z(e,t){if(!e.length)return[];let n=L(t);return e.map((e=>({seg:e,isVisible:!0,isAbsolute:!0,absoluteTop:n[e.eventRange.instance.instanceId],marginTop:0})))}function L(e){let t={};for(let n of e)for(let e of n)t[e.seg.eventRange.instance.instanceId]=e.absoluteTop;return t}N.addStateEquality({segHeights:l.E});class U extends l.bc{constructor(){super(...arguments),this.splitBusinessHourSegs=(0,l.z)(c),this.splitBgEventSegs=(0,l.z)(c),this.splitFgEventSegs=(0,l.z)(c),this.splitDateSelectionSegs=(0,l.z)(c),this.splitEventDrag=(0,l.z)(u),this.splitEventResize=(0,l.z)(u),this.rowRefs=new l.cd}render(){let{props:e,context:t}=this,n=e.cells.length,r=this.splitBusinessHourSegs(e.businessHourSegs,n),i=this.splitBgEventSegs(e.bgEventSegs,n),s=this.splitFgEventSegs(e.fgEventSegs,n),o=this.splitDateSelectionSegs(e.dateSelectionSegs,n),a=this.splitEventDrag(e.eventDrag,n),c=this.splitEventResize(e.eventResize,n),h=n>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return(0,d.n)(l.a6,{unit:"day"},((t,l)=>(0,d.n)(d.FK,null,e.cells.map(((t,u)=>(0,d.n)(N,{ref:this.rowRefs.createRef(u),key:t.length?t[0].date.toISOString():u,showDayNumbers:n>1,showWeekNumbers:e.showWeekNumbers,todayRange:l,dateProfile:e.dateProfile,cells:t,renderIntro:e.renderRowIntro,businessHourSegs:r[u],eventSelection:e.eventSelection,bgEventSegs:i[u].filter(P),fgEventSegs:s[u],dateSelectionSegs:o[u],eventDrag:a[u],eventResize:c[u],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:h,forPrint:e.forPrint}))))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new l.b8(this.rootEl,this.rowRefs.collect().map((e=>e.getCellEls()[0])),!1,!0),this.colPositions=new l.b8(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:n,rowPositions:r}=this,i=n.leftToIndex(e),s=r.topToIndex(t);if(null!=s&&null!=i){let e=this.props.cells[s][i];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(s,i),allDay:!0},e.extraDateSpan),dayEl:this.getCellEl(s,i),rect:{left:n.lefts[i],right:n.rights[i],top:r.tops[s],bottom:r.bottoms[s]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let n=this.props.cells[e][t].date,r=(0,l.t)(n,1);return{start:n,end:r}}}function P(e){return e.eventRange.def.allDay}class I extends l.bc{constructor(){super(...arguments),this.elRef=(0,d._3)(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:n,expandRows:r}=e,i=!0===n||!0===t;i&&!r&&(i=!1,t=null,n=null);let s=["fc-daygrid-body",i?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return(0,d.n)("div",{ref:this.elRef,className:s.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},(0,d.n)("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:r?e.clientHeight:""}},e.colGroupNode,(0,d.n)("tbody",{role:"presentation"},(0,d.n)(U,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:n,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=A(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),n=t.closest(".fc-scroller"),r=e.getBoundingClientRect().top-t.getBoundingClientRect().top;n.scrollTop=r?r+1:0}this.needsScrollReset=!1}}}function A(e,t){let n;return t.currentRangeUnit.match(/year|month/)&&(n=e.querySelector(`[data-date="${(0,l.bv)(t.currentDate)}-01"]`)),n||(n=e.querySelector(`[data-date="${(0,l.bt)(t.currentDate)}"]`)),n}class H extends l.bU{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class W extends l.bc{constructor(){super(...arguments),this.slicer=new H,this.tableRef=(0,d._3)()}render(){let{props:e,context:t}=this;return(0,d.n)(I,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}var Y=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';(0,l.ct)(Y);class _ extends l.aW{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?(0,l.bN)(e)?["timed","allDay"]:["allDay"]:["timed"]}}const j=(0,l.x)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function F(e){let t=["fc-timegrid-slot","fc-timegrid-slot-label",e.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return(0,d.n)(l.V.Consumer,null,(n=>{if(!e.isLabeled)return(0,d.n)("td",{className:t.join(" "),"data-time":e.isoTimeStr});let{dateEnv:r,options:i,viewApi:s}=n,o=null==i.slotLabelFormat?j:Array.isArray(i.slotLabelFormat)?(0,l.x)(i.slotLabelFormat[0]):(0,l.x)(i.slotLabelFormat),a={level:0,time:e.time,date:r.toDate(e.date),view:s,text:r.format(e.date,o)};return(0,d.n)(l.C,{elTag:"td",elClasses:t,elAttrs:{"data-time":e.isoTimeStr},renderProps:a,generatorName:"slotLabelContent",customGenerator:i.slotLabelContent,defaultGenerator:q,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},(e=>(0,d.n)("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},(0,d.n)(e,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]}))))}))}function q(e){return e.text}class G extends l.B{render(){return this.props.slatMetas.map((e=>(0,d.n)("tr",{key:e.key},(0,d.n)(F,Object.assign({},e)))))}}const B=(0,l.x)({week:"short"}),K=5;class Z extends l.bc{constructor(){super(...arguments),this.allDaySplitter=new _,this.headerElRef=(0,d._3)(),this.rootElRef=(0,d._3)(),this.scrollerElRef=(0,d._3)(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=e)},this.renderHeadAxis=(e,t="")=>{let{options:n}=this.context,{dateProfile:r}=this.props,i=r.renderRange,s=(0,l.bj)(i.start,i.end),o=1===s?(0,l.a_)(this.context,i.start,"week"):{};return n.weekNumbers&&"day"===e?(0,d.n)(l.cn,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:i.start,defaultFormat:B},(e=>(0,d.n)("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},(0,d.n)(e,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:o})))):(0,d.n)("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},(0,d.n)("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=e=>{let{options:t,viewApi:n}=this.context,r={text:t.allDayText,view:n};return(0,d.n)(l.C,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:r,generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:V,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},(t=>(0,d.n)("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",null==e?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},(0,d.n)(t,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]}))))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,t,n){let{context:r,props:i}=this,s=[],o=(0,l.ca)(r.options);return e&&s.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(s.push({type:"body",key:"all-day",chunk:{content:t}}),s.push({type:"body",key:"all-day-divider",outerContent:(0,d.n)("tr",{role:"presentation",className:"fc-scrollgrid-section"},(0,d.n)("td",{className:"fc-timegrid-divider "+r.theme.getClass("tableCellShaded")}))})),s.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(r.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:n}}),(0,d.n)(l.cq,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:r.viewSpec},(0,d.n)(l.bZ,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[{width:"shrink"}],sections:s}))}renderHScrollLayout(e,t,n,r,i,s,o){let a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");let{context:c,props:h}=this,u=!h.forPrint&&(0,l.ca)(c.options),f=!h.forPrint&&(0,l.c9)(c.options),p=[];e&&p.push({type:"header",key:"header",isSticky:u,syncRowHeights:!0,chunks:[{key:"axis",rowContent:e=>(0,d.n)("tr",{role:"presentation"},this.renderHeadAxis("day",e.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(p.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:e=>(0,d.n)("tr",{role:"presentation"},this.renderTableRowAxis(e.rowSyncHeights[0]))},{key:"cols",content:t}]}),p.push({key:"all-day-divider",type:"body",outerContent:(0,d.n)("tr",{role:"presentation",className:"fc-scrollgrid-section"},(0,d.n)("td",{colSpan:2,className:"fc-timegrid-divider "+c.theme.getClass("tableCellShaded")}))}));let y=c.options.nowIndicator;return p.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(c.options.expandRows),chunks:[{key:"axis",content:e=>(0,d.n)("div",{className:"fc-timegrid-axis-chunk"},(0,d.n)("table",{"aria-hidden":!0,style:{height:e.expandRows?e.clientHeight:""}},e.tableColGroupNode,(0,d.n)("tbody",null,(0,d.n)(G,{slatMetas:s}))),(0,d.n)("div",{className:"fc-timegrid-now-indicator-container"},(0,d.n)(l.a6,{unit:y?"minute":"day"},(e=>{let t=y&&o&&o.safeComputeTop(e);return"number"===typeof t?(0,d.n)(l.ch,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:t},isAxis:!0,date:e}):null}))))},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),f&&p.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:l.c8},{key:"cols",content:l.c8}]}),(0,d.n)(l.cq,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:c.viewSpec},(0,d.n)(a,{liquid:!h.isHeightAuto&&!h.forPrint,forPrint:h.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:r,minWidth:i}]}],sections:p}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:t}=this.context.options;return!0!==e&&!0!==t||(e=void 0,t=K),{dayMaxEvents:e,dayMaxEventRows:t}}}function V(e){return e.text}class Q{constructor(e,t,n){this.positions=e,this.dateProfile=t,this.slotDuration=n}safeComputeTop(e){let{dateProfile:t}=this;if((0,l.G)(t.currentRange,e)){let n=(0,l.q)(e),r=e.valueOf()-n.valueOf();if(r>=(0,l.bq)(t.slotMinTime)&&r<(0,l.bq)(t.slotMaxTime))return this.computeTimeTop((0,l.d)(r))}return null}computeDateTop(e,t){return t||(t=(0,l.q)(e)),this.computeTimeTop((0,l.d)(e.valueOf()-t.valueOf()))}computeTimeTop(e){let t,n,{positions:r,dateProfile:i}=this,s=r.els.length,o=(e.milliseconds-(0,l.bq)(i.slotMinTime))/(0,l.bq)(this.slotDuration);return o=Math.max(0,o),o=Math.min(s,o),t=Math.floor(o),t=Math.min(t,s-1),n=o-t,r.tops[t]+r.getHeight(t)*n}}class $ extends l.B{render(){let{props:e,context:t}=this,{options:n}=t,{slatElRefs:r}=e;return(0,d.n)("tbody",null,e.slatMetas.map(((i,s)=>{let o={time:i.time,date:t.dateEnv.toDate(i.date),view:t.viewApi};return(0,d.n)("tr",{key:i.key,ref:r.createRef(i.key)},e.axis&&(0,d.n)(F,Object.assign({},i)),(0,d.n)(l.C,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!i.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":i.isoTimeStr},renderProps:o,generatorName:"slotLaneContent",customGenerator:n.slotLaneContent,classNameGenerator:n.slotLaneClassNames,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount}))})))}}class X extends l.B{constructor(){super(...arguments),this.rootElRef=(0,d._3)(),this.slatElRefs=new l.cd}render(){let{props:e,context:t}=this;return(0,d.n)("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},(0,d.n)("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,(0,d.n)($,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:t}=this;if(t.onCoords&&null!==t.clientWidth){let n=this.rootElRef.current;n.offsetHeight&&t.onCoords(new Q(new l.b8(this.rootElRef.current,J(this.slatElRefs.currentMap,t.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}}function J(e,t){return t.map((t=>e[t.key]))}function ee(e,t){let n,r=[];for(n=0;n<t;n+=1)r.push([]);if(e)for(n=0;n<e.length;n+=1)r[e[n].col].push(e[n]);return r}function te(e,t){let n=[];if(e){for(let r=0;r<t;r+=1)n[r]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let t of e.segs)n[t.col].segs.push(t)}else for(let r=0;r<t;r+=1)n[r]=null;return n}class ne extends l.B{render(){let{props:e}=this;return(0,d.n)(l.co,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>be(e.hiddenSegs,e),defaultGenerator:re,forceTimed:!0},(e=>(0,d.n)(e,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]})))}}function re(e){return e.shortText}function ie(e,t,n){let r=new l.by;null!=t&&(r.strictOrder=t),null!=n&&(r.maxStackCnt=n);let i=r.addSegs(e),s=(0,l.bC)(i),o=se(r);o=ce(o,1);let a=he(o);return{segRects:a,hiddenGroups:s}}function se(e){const{entriesByLevel:t}=e,n=ue(((e,t)=>e+":"+t),((r,i)=>{let s=de(e,r,i),o=oe(s,n),a=t[r][i];return[Object.assign(Object.assign({},a),{nextLevelNodes:o[0]}),a.thickness+o[1]]}));return oe(t.length?{level:0,lateralStart:0,lateralEnd:t[0].length}:null,n)[0]}function oe(e,t){if(!e)return[[],0];let{level:n,lateralStart:r,lateralEnd:i}=e,s=r,o=[];while(s<i)o.push(t(n,s)),s+=1;return o.sort(ae),[o.map(le),o[0][1]]}function ae(e,t){return t[1]-e[1]}function le(e){return e[0]}function de(e,t,n){let{levelCoords:r,entriesByLevel:i}=e,s=i[t][n],o=r[t]+s.thickness,a=r.length,d=t;for(;d<a&&r[d]<o;d+=1);for(;d<a;d+=1){let e,t=i[d],n=(0,l.bB)(t,s.span.start,l.bA),r=n[0]+n[1],o=r;while((e=t[o])&&e.span.start<s.span.end)o+=1;if(r<o)return{level:d,lateralStart:r,lateralEnd:o}}return null}function ce(e,t){const n=ue(((e,t,n)=>(0,l.bz)(e)),((e,r,i)=>{let s,{nextLevelNodes:o,thickness:a}=e,l=a+i,d=a/l,c=[];if(o.length)for(let t of o)if(void 0===s){let e=n(t,r,l);s=e[0],c.push(e[1])}else{let e=n(t,s,0);c.push(e[1])}else s=t;let h=(s-r)*d;return[s-h,Object.assign(Object.assign({},e),{thickness:h,nextLevelNodes:c})]}));return e.map((e=>n(e,0,0)[1]))}function he(e){let t=[];const n=ue(((e,t,n)=>(0,l.bz)(e)),((e,n,i)=>{let s=Object.assign(Object.assign({},e),{levelCoord:n,stackDepth:i,stackForward:0});return t.push(s),s.stackForward=r(e.nextLevelNodes,n+e.thickness,i+1)+1}));function r(e,t,r){let i=0;for(let s of e)i=Math.max(n(s,t,r),i);return i}return r(e,0,0),t}function ue(e,t){const n={};return(...r)=>{let i=e(...r);return i in n?n[i]:n[i]=t(...r)}}function fe(e,t,n=null,r=0){let i=[];if(n)for(let s=0;s<e.length;s+=1){let o=e[s],a=n.computeDateTop(o.start,t),l=Math.max(a+(r||0),n.computeDateTop(o.end,t));i.push({start:Math.round(a),end:Math.round(l)})}return i}function pe(e,t,n,r){let i=[],s=[];for(let d=0;d<e.length;d+=1){let n=t[d];n?i.push({index:d,thickness:1,span:n}):s.push(e[d])}let{segRects:o,hiddenGroups:a}=ie(i,n,r),l=[];for(let d of o)l.push({seg:e[d.index],rect:d});for(let d of s)l.push({seg:d,rect:null});return{segPlacements:l,hiddenGroups:a}}const ye=(0,l.x)({hour:"numeric",minute:"2-digit",meridiem:!1});class ge extends l.B{render(){return(0,d.n)(l.cg,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:ye}))}}class me extends l.B{constructor(){super(...arguments),this.sortEventSegs=(0,l.z)(l.bP)}render(){let{props:e,context:t}=this,{options:n}=t,r=n.selectMirror,i=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||r&&e.dateSelectionSegs||[],s=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},o=this.sortEventSegs(e.fgEventSegs,n.eventOrder);return(0,d.n)(l.ci,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},(t=>(0,d.n)("div",{className:"fc-timegrid-col-frame"},(0,d.n)("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),(0,d.n)("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(o,s,!1,!1,!1)),(0,d.n)("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(i,{},Boolean(e.eventDrag),Boolean(e.eventResize),Boolean(r),"mirror")),(0,d.n)("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),(0,l.cj)(n)&&(0,d.n)(t,{elTag:"div",elClasses:["fc-timegrid-col-misc"]}))))}renderFgSegs(e,t,n,r,i,s){let{props:o}=this;return o.forPrint?be(e,o):this.renderPositionedFgSegs(e,t,n,r,i,s)}renderPositionedFgSegs(e,t,n,r,i,s){let{eventMaxStack:o,eventShortHeight:a,eventOrderStrict:c,eventMinHeight:h}=this.context.options,{date:u,slatCoords:f,eventSelection:p,todayRange:y,nowDate:g}=this.props,m=n||r||i,b=fe(e,u,f,h),{segPlacements:v,hiddenGroups:w}=pe(e,b,c,o);return(0,d.n)(d.FK,null,this.renderHiddenGroups(w,e),v.map((e=>{let{seg:o,rect:c}=e,h=o.eventRange.instance.instanceId,u=m||Boolean(!t[h]&&c),f=ve(c&&c.span),b=!m&&c?this.computeSegHStyle(c):{left:0,right:0},v=Boolean(c)&&c.stackForward>0,w=Boolean(c)&&c.span.end-c.span.start<a;return(0,d.n)("div",{className:"fc-timegrid-event-harness"+(v?" fc-timegrid-event-harness-inset":""),key:s||h,style:Object.assign(Object.assign({visibility:u?"":"hidden"},f),b)},(0,d.n)(ge,Object.assign({seg:o,isDragging:n,isResizing:r,isDateSelecting:i,isSelected:h===p,isShort:w},(0,l.bQ)(o,y,g))))})))}renderHiddenGroups(e,t){let{extraDateSpan:n,dateProfile:r,todayRange:i,nowDate:s,eventSelection:o,eventDrag:a,eventResize:c}=this.props;return(0,d.n)(d.FK,null,e.map((e=>{let h=ve(e.span),u=we(e.entries,t);return(0,d.n)(ne,{key:(0,l.bu)((0,l.cp)(u)),hiddenSegs:u,top:h.top,bottom:h.bottom,extraDateSpan:n,dateProfile:r,todayRange:i,nowDate:s,eventSelection:o,eventDrag:a,eventResize:c})})))}renderFillSegs(e,t){let{props:n,context:r}=this,i=fe(e,n.date,n.slatCoords,r.options.eventMinHeight),s=i.map(((r,i)=>{let s=e[i];return(0,d.n)("div",{key:(0,l.bR)(s.eventRange),className:"fc-timegrid-bg-harness",style:ve(r)},"bg-event"===t?(0,d.n)(l.cm,Object.assign({seg:s},(0,l.bQ)(s,n.todayRange,n.nowDate))):(0,l.cl)(t))}));return(0,d.n)(d.FK,null,s)}renderNowIndicator(e){let{slatCoords:t,date:n}=this.props;return t?e.map(((e,r)=>(0,d.n)(l.ch,{key:r,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(e.start,n)},isAxis:!1,date:n}))):null}computeSegHStyle(e){let t,n,{isRtl:r,options:i}=this.context,s=i.slotEventOverlap,o=e.levelCoord,a=e.levelCoord+e.thickness;s&&(a=Math.min(1,o+2*(a-o))),r?(t=1-a,n=o):(t=o,n=1-a);let l={zIndex:e.stackDepth+1,left:100*t+"%",right:100*n+"%"};return s&&!e.stackForward&&(l[r?"marginLeft":"marginRight"]=20),l}}function be(e,{todayRange:t,nowDate:n,eventSelection:r,eventDrag:i,eventResize:s}){let o=(i?i.affectedInstances:null)||(s?s.affectedInstances:null)||{};return(0,d.n)(d.FK,null,e.map((e=>{let i=e.eventRange.instance.instanceId;return(0,d.n)("div",{key:i,style:{visibility:o[i]?"hidden":""}},(0,d.n)(ge,Object.assign({seg:e,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:i===r,isShort:!1},(0,l.bQ)(e,t,n))))})))}function ve(e){return e?{top:e.start,bottom:-e.end}:{top:"",bottom:""}}function we(e,t){return e.map((e=>t[e.index]))}class xe extends l.B{constructor(){super(...arguments),this.splitFgEventSegs=(0,l.z)(ee),this.splitBgEventSegs=(0,l.z)(ee),this.splitBusinessHourSegs=(0,l.z)(ee),this.splitNowIndicatorSegs=(0,l.z)(ee),this.splitDateSelectionSegs=(0,l.z)(ee),this.splitEventDrag=(0,l.z)(te),this.splitEventResize=(0,l.z)(te),this.rootElRef=(0,d._3)(),this.cellElRefs=new l.cd}render(){let{props:e,context:t}=this,n=t.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),r=e.cells.length,i=this.splitFgEventSegs(e.fgEventSegs,r),s=this.splitBgEventSegs(e.bgEventSegs,r),o=this.splitBusinessHourSegs(e.businessHourSegs,r),a=this.splitNowIndicatorSegs(e.nowIndicatorSegs,r),c=this.splitDateSelectionSegs(e.dateSelectionSegs,r),h=this.splitEventDrag(e.eventDrag,r),u=this.splitEventResize(e.eventResize,r);return(0,d.n)("div",{className:"fc-timegrid-cols",ref:this.rootElRef},(0,d.n)("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,(0,d.n)("tbody",{role:"presentation"},(0,d.n)("tr",{role:"row"},e.axis&&(0,d.n)("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},(0,d.n)("div",{className:"fc-timegrid-col-frame"},(0,d.n)("div",{className:"fc-timegrid-now-indicator-container"},"number"===typeof n&&(0,d.n)(l.ch,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:n},isAxis:!0,date:e.nowDate})))),e.cells.map(((t,n)=>(0,d.n)(me,{key:t.key,elRef:this.cellElRefs.createRef(t.key),dateProfile:e.dateProfile,date:t.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:t.extraRenderProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,fgEventSegs:i[n],bgEventSegs:s[n],businessHourSegs:o[n],nowIndicatorSegs:a[n],dateSelectionSegs:c[n],eventDrag:h[n],eventResize:u[n],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint})))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&null!==e.clientWidth&&e.onColCoords(new l.b8(this.rootElRef.current,ke(this.cellElRefs.currentMap,e.cells),!0,!1))}}function ke(e,t){return t.map((t=>e[t.key]))}class Se extends l.bc{constructor(){super(...arguments),this.processSlotOptions=(0,l.z)(Ee),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:t}=this.props,{slatCoords:n}=this.state;if(t&&n){if(e.time){let r=n.computeTimeTop(e.time);r=Math.ceil(r),r&&(r+=1),t(r)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:t}=this;return(0,d.n)("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},(0,d.n)(X,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),(0,d.n)(xe,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,t){let{dateEnv:n,options:r}=this.context,{colCoords:i}=this,{dateProfile:s}=this.props,{slatCoords:o}=this.state,{snapDuration:a,snapsPerSlot:d}=this.processSlotOptions(this.props.slotDuration,r.snapDuration),c=i.leftToIndex(e),h=o.positions.topToIndex(t);if(null!=c&&null!=h){let e=this.props.cells[c],r=o.positions.tops[h],u=o.positions.getHeight(h),f=(t-r)/u,p=Math.floor(f*d),y=h*d+p,g=this.props.cells[c].date,m=(0,l.bn)(s.slotMinTime,(0,l.bm)(a,y)),b=n.add(g,m),v=n.add(b,a);return{dateProfile:s,dateSpan:Object.assign({range:{start:b,end:v},allDay:!1},e.extraDateSpan),dayEl:i.els[c],rect:{left:i.lefts[c],right:i.rights[c],top:r,bottom:r+u},layer:0}}return null}}function Ee(e,t){let n=t||e,r=(0,l.br)(e,n);return null===r&&(n=e,r=1),{snapDuration:n,snapsPerSlot:r}}class Re extends l.bU{sliceRange(e,t){let n=[];for(let r=0;r<t.length;r+=1){let i=(0,l.o)(e,t[r]);i&&n.push({start:i.start,end:i.end,isStart:i.start.valueOf()===e.start.valueOf(),isEnd:i.end.valueOf()===e.end.valueOf(),col:r})}return n}}class De extends l.bc{constructor(){super(...arguments),this.buildDayRanges=(0,l.z)(Te),this.slicer=new Re,this.timeColsRef=(0,d._3)()}render(){let{props:e,context:t}=this,{dateProfile:n,dayTableModel:r}=e,{nowIndicator:i,nextDayThreshold:s}=t.options,o=this.buildDayRanges(r,n,t.dateEnv);return(0,d.n)(l.a6,{unit:i?"minute":"day"},((a,l)=>(0,d.n)(Se,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,n,null,t,o),{forPrint:e.forPrint,axis:e.axis,dateProfile:n,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:r.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:a,nowIndicatorSegs:i&&this.slicer.sliceNowDate(a,n,s,t,o),todayRange:l,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords}))))}}function Te(e,t,n){let r=[];for(let i of e.headerDates)r.push({start:n.add(i,t.slotMinTime),end:n.add(i,t.slotMaxTime)});return r}const Ce=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function Me(e,t,n,r,i){let s=new Date(0),o=e,a=(0,l.d)(0),d=n||Oe(r),c=[];while((0,l.bq)(o)<(0,l.bq)(t)){let e=i.add(s,o),t=null!==(0,l.br)(a,d);c.push({date:e,time:o,key:e.toISOString(),isoTimeStr:(0,l.bs)(e),isLabeled:t}),o=(0,l.bn)(o,r),a=(0,l.bn)(a,r)}return c}function Oe(e){let t,n,r;for(t=Ce.length-1;t>=0;t-=1)if(n=(0,l.d)(Ce[t]),r=(0,l.br)(n,e),null!==r&&r>1)return n;return e}class Ne extends Z{constructor(){super(...arguments),this.buildTimeColsModel=(0,l.z)(ze),this.buildSlatMetas=(0,l.z)(Me)}render(){let{options:e,dateEnv:t,dateProfileGenerator:n}=this.context,{props:r}=this,{dateProfile:i}=r,s=this.buildTimeColsModel(i,n),o=this.allDaySplitter.splitProps(r),a=this.buildSlatMetas(i.slotMinTime,i.slotMaxTime,e.slotLabelInterval,e.slotDuration,t),{dayMinWidth:c}=e,h=!c,u=c,f=e.dayHeaders&&(0,d.n)(l.bI,{dates:s.headerDates,dateProfile:i,datesRepDistinctDays:!0,renderIntro:h?this.renderHeadAxis:null}),p=!1!==e.allDaySlot&&(t=>(0,d.n)(W,Object.assign({},o.allDay,{dateProfile:i,dayTableModel:s,nextDayThreshold:e.nextDayThreshold,tableMinWidth:t.tableMinWidth,colGroupNode:t.tableColGroupNode,renderRowIntro:h?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:r.forPrint},this.getAllDayMaxEventProps()))),y=t=>(0,d.n)(De,Object.assign({},o.timed,{dayTableModel:s,dateProfile:i,axis:h,slotDuration:e.slotDuration,slatMetas:a,forPrint:r.forPrint,tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:t.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return u?this.renderHScrollLayout(f,p,y,s.colCnt,c,a,this.state.slatCoords):this.renderSimpleLayout(f,p,y)}}function ze(e,t){let n=new l.bM(e.renderRange,t);return new l.bT(n,!1)}var Le='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';(0,l.ct)(Le);const Ue={allDaySlot:Boolean};var Pe=(0,a.i1)({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:Ue,views:{timeGrid:{component:Ne,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}}),Ie=["MO","TU","WE","TH","FR","SA","SU"],Ae=function(){function e(e,t){if(0===t)throw new Error("Can't create weekday with n == 0");this.weekday=e,this.n=t}return e.fromStr=function(t){return new e(Ie.indexOf(t))},e.prototype.nth=function(t){return this.n===t?this:new e(this.weekday,t)},e.prototype.equals=function(e){return this.weekday===e.weekday&&this.n===e.n},e.prototype.toString=function(){var e=Ie[this.weekday];return this.n&&(e=(this.n>0?"+":"")+String(this.n)+e),e},e.prototype.getJsWeekday=function(){return 6===this.weekday?0:this.weekday+1},e}(),He=function(e){return null!==e&&void 0!==e},We=function(e){return"number"===typeof e},Ye=function(e){return"string"===typeof e&&Ie.includes(e)},_e=Array.isArray,je=function(e,t){void 0===t&&(t=e),1===arguments.length&&(t=e,e=0);for(var n=[],r=e;r<t;r++)n.push(r);return n},Fe=function(e,t){var n=0,r=[];if(_e(e))for(;n<t;n++)r[n]=[].concat(e);else for(;n<t;n++)r[n]=e;return r},qe=function(e){return _e(e)?e:[e]};function Ge(e,t,n){void 0===n&&(n=" ");var r=String(e);return t|=0,r.length>t?String(r):(t-=r.length,t>n.length&&(n+=Fe(n,t/n.length)),n.slice(0,t)+String(r))}var Be=function(e,t,n){var r=e.split(t);return n?r.slice(0,n).concat([r.slice(n).join(t)]):r},Ke=function(e,t){var n=e%t;return n*t<0?n+t:n},Ze=function(e,t){return{div:Math.floor(e/t),mod:Ke(e,t)}},Ve=function(e){return!He(e)||0===e.length},Qe=function(e){return!Ve(e)},$e=function(e,t){return Qe(e)&&-1!==e.indexOf(t)},Xe=function(e,t,n,r,i,s){return void 0===r&&(r=0),void 0===i&&(i=0),void 0===s&&(s=0),new Date(Date.UTC(e,t-1,n,r,i,s))},Je=[31,28,31,30,31,30,31,31,30,31,30,31],et=864e5,tt=9999,nt=Xe(1970,1,1),rt=[6,0,1,2,3,4,5],it=function(e){return e%4===0&&e%100!==0||e%400===0},st=function(e){return e instanceof Date},ot=function(e){return st(e)&&!isNaN(e.getTime())},at=function(e,t){var n=e.getTime(),r=t.getTime(),i=n-r;return Math.round(i/et)},lt=function(e){return at(e,nt)},dt=function(e){return new Date(nt.getTime()+e*et)},ct=function(e){var t=e.getUTCMonth();return 1===t&&it(e.getUTCFullYear())?29:Je[t]},ht=function(e){return rt[e.getUTCDay()]},ut=function(e,t){var n=Xe(e,t+1,1);return[ht(n),ct(n)]},ft=function(e,t){return t=t||e,new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))},pt=function(e){var t=new Date(e.getTime());return t},yt=function(e){for(var t=[],n=0;n<e.length;n++)t.push(pt(e[n]));return t},gt=function(e){e.sort((function(e,t){return e.getTime()-t.getTime()}))},mt=function(e,t){void 0===t&&(t=!0);var n=new Date(e);return[Ge(n.getUTCFullYear().toString(),4,"0"),Ge(n.getUTCMonth()+1,2,"0"),Ge(n.getUTCDate(),2,"0"),"T",Ge(n.getUTCHours(),2,"0"),Ge(n.getUTCMinutes(),2,"0"),Ge(n.getUTCSeconds(),2,"0"),t?"Z":""].join("")},bt=function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/,n=t.exec(e);if(!n)throw new Error("Invalid UNTIL value: ".concat(e));return new Date(Date.UTC(parseInt(n[1],10),parseInt(n[2],10)-1,parseInt(n[3],10),parseInt(n[5],10)||0,parseInt(n[6],10)||0,parseInt(n[7],10)||0))},vt=function(e,t){var n=e.toLocaleString("sv-SE",{timeZone:t});return n.replace(" ","T")+"Z"},wt=function(e,t){var n=Intl.DateTimeFormat().resolvedOptions().timeZone,r=new Date(vt(e,n)),i=new Date(vt(e,null!==t&&void 0!==t?t:"UTC")),s=i.getTime()-r.getTime();return new Date(e.getTime()-s)},xt=function(){function e(e,t){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=e,this.args=t,"between"===e?(this.maxDate=t.inc?t.before:new Date(t.before.getTime()-1),this.minDate=t.inc?t.after:new Date(t.after.getTime()+1)):"before"===e?this.maxDate=t.inc?t.dt:new Date(t.dt.getTime()-1):"after"===e&&(this.minDate=t.inc?t.dt:new Date(t.dt.getTime()+1))}return e.prototype.accept=function(e){++this.total;var t=this.minDate&&e<this.minDate,n=this.maxDate&&e>this.maxDate;if("between"===this.method){if(t)return!0;if(n)return!1}else if("before"===this.method){if(n)return!1}else if("after"===this.method)return!!t||(this.add(e),!1);return this.add(e)},e.prototype.add=function(e){return this._result.push(e),!0},e.prototype.getValue=function(){var e=this._result;switch(this.method){case"all":case"between":return e;case"before":case"after":default:return e.length?e[e.length-1]:null}},e.prototype.clone=function(){return new e(this.method,this.args)},e}(),kt=xt,St=function(e,t){return St=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},St(e,t)};function Et(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}St(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Rt=function(){return Rt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Rt.apply(this,arguments)};Object.create;function Dt(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var Tt,Ct=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.iterator=r,i}return Et(t,e),t.prototype.add=function(e){return!!this.iterator(e,this._result.length)&&(this._result.push(e),!0)},t}(kt),Mt=Ct,Ot={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}},Nt=Ot,zt=function(e,t){return-1!==e.indexOf(t)},Lt=function(e){return e.toString()},Ut=function(e,t,n){return"".concat(t," ").concat(n,", ").concat(e)},Pt=function(){function e(e,t,n,r){if(void 0===t&&(t=Lt),void 0===n&&(n=Nt),void 0===r&&(r=Ut),this.text=[],this.language=n||Nt,this.gettext=t,this.dateFormatter=r,this.rrule=e,this.options=e.options,this.origOptions=e.origOptions,this.origOptions.bymonthday){var i=[].concat(this.options.bymonthday),s=[].concat(this.options.bynmonthday);i.sort((function(e,t){return e-t})),s.sort((function(e,t){return t-e})),this.bymonthday=i.concat(s),this.bymonthday.length||(this.bymonthday=null)}if(He(this.origOptions.byweekday)){var o=_e(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],a=String(o);this.byweekday={allWeeks:o.filter((function(e){return!e.n})),someWeeks:o.filter((function(e){return Boolean(e.n)})),isWeekdays:-1!==a.indexOf("MO")&&-1!==a.indexOf("TU")&&-1!==a.indexOf("WE")&&-1!==a.indexOf("TH")&&-1!==a.indexOf("FR")&&-1===a.indexOf("SA")&&-1===a.indexOf("SU"),isEveryDay:-1!==a.indexOf("MO")&&-1!==a.indexOf("TU")&&-1!==a.indexOf("WE")&&-1!==a.indexOf("TH")&&-1!==a.indexOf("FR")&&-1!==a.indexOf("SA")&&-1!==a.indexOf("SU")};var l=function(e,t){return e.weekday-t.weekday};this.byweekday.allWeeks.sort(l),this.byweekday.someWeeks.sort(l),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}return e.isFullyConvertible=function(t){var n=!0;if(!(t.options.freq in e.IMPLEMENTED))return!1;if(t.origOptions.until&&t.origOptions.count)return!1;for(var r in t.origOptions){if(zt(["dtstart","tzid","wkst","freq"],r))return!0;if(!zt(e.IMPLEMENTED[t.options.freq],r))return!1}return n},e.prototype.isFullyConvertible=function(){return e.isFullyConvertible(this.rrule)},e.prototype.toString=function(){var t=this.gettext;if(!(this.options.freq in e.IMPLEMENTED))return t("RRule error: Unable to fully convert this rrule to text");if(this.text=[t("every")],this[_n.FREQUENCIES[this.options.freq]](),this.options.until){this.add(t("until"));var n=this.options.until;this.add(this.dateFormatter(n.getUTCFullYear(),this.language.monthNames[n.getUTCMonth()],n.getUTCDate()))}else this.options.count&&this.add(t("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?t("times"):t("time"));return this.isFullyConvertible()||this.add(t("(~ approximate)")),this.text.join("")},e.prototype.HOURLY=function(){var e=this.gettext;1!==this.options.interval&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("hours"):e("hour"))},e.prototype.MINUTELY=function(){var e=this.gettext;1!==this.options.interval&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("minutes"):e("minute"))},e.prototype.DAILY=function(){var e=this.gettext;1!==this.options.interval&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(this.plural(this.options.interval)?e("days"):e("day")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},e.prototype.WEEKLY=function(){var e=this.gettext;1!==this.options.interval&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?e("weeks"):e("week")),this.byweekday&&this.byweekday.isWeekdays?1===this.options.interval?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(e("on")).add(e("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?e("days"):e("day")):(1===this.options.interval&&this.add(e("week")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.origOptions.byhour&&this._byhour())},e.prototype.MONTHLY=function(){var e=this.gettext;this.origOptions.bymonth?(1!==this.options.interval&&(this.add(this.options.interval.toString()).add(e("months")),this.plural(this.options.interval)&&this.add(e("in"))),this._bymonth()):(1!==this.options.interval&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("months"):e("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(e("on")).add(e("weekdays")):this.byweekday&&this._byweekday()},e.prototype.YEARLY=function(){var e=this.gettext;this.origOptions.bymonth?(1!==this.options.interval&&(this.add(this.options.interval.toString()),this.add(e("years"))),this._bymonth()):(1!==this.options.interval&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("years"):e("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(e("on the")).add(this.list(this.options.byyearday,this.nth,e("and"))).add(e("day")),this.options.byweekno&&this.add(e("in")).add(this.plural(this.options.byweekno.length)?e("weeks"):e("week")).add(this.list(this.options.byweekno,void 0,e("and")))},e.prototype._bymonthday=function(){var e=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,e("or"))).add(e("the")).add(this.list(this.bymonthday,this.nth,e("or"))):this.add(e("on the")).add(this.list(this.bymonthday,this.nth,e("and")))},e.prototype._byweekday=function(){var e=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(e("and")),this.add(e("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,e("and"))))},e.prototype._byhour=function(){var e=this.gettext;this.add(e("at")).add(this.list(this.origOptions.byhour,void 0,e("and")))},e.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},e.prototype.nth=function(e){var t;e=parseInt(e.toString(),10);var n=this.gettext;if(-1===e)return n("last");var r=Math.abs(e);switch(r){case 1:case 21:case 31:t=r+n("st");break;case 2:case 22:t=r+n("nd");break;case 3:case 23:t=r+n("rd");break;default:t=r+n("th")}return e<0?t+" "+n("last"):t},e.prototype.monthtext=function(e){return this.language.monthNames[e-1]},e.prototype.weekdaytext=function(e){var t=We(e)?(e+1)%7:e.getJsWeekday();return(e.n?this.nth(e.n)+" ":"")+this.language.dayNames[t]},e.prototype.plural=function(e){return e%100!==1},e.prototype.add=function(e){return this.text.push(" "),this.text.push(e),this},e.prototype.list=function(e,t,n,r){var i=this;void 0===r&&(r=","),_e(e)||(e=[e]);var s=function(e,t,n){for(var r="",i=0;i<e.length;i++)0!==i&&(i===e.length-1?r+=" "+n+" ":r+=t+" "),r+=e[i];return r};t=t||function(e){return e.toString()};var o=function(e){return t&&t.call(i,e)};return n?s(e.map(o),r,n):e.map(o).join(r+" ")},e}(),It=Pt,At=function(){function e(e){this.done=!0,this.rules=e}return e.prototype.start=function(e){return this.text=e,this.done=!1,this.nextSymbol()},e.prototype.isDone=function(){return this.done&&null===this.symbol},e.prototype.nextSymbol=function(){var e,t;this.symbol=null,this.value=null;do{if(this.done)return!1;var n=void 0;for(var r in e=null,this.rules){n=this.rules[r];var i=n.exec(this.text);i&&(null===e||i[0].length>e[0].length)&&(e=i,t=r)}if(null!=e&&(this.text=this.text.substr(e[0].length),""===this.text&&(this.done=!0)),null==e)return this.done=!0,this.symbol=null,void(this.value=null)}while("SKIP"===t);return this.symbol=t,this.value=e,!0},e.prototype.accept=function(e){if(this.symbol===e){if(this.value){var t=this.value;return this.nextSymbol(),t}return this.nextSymbol(),!0}return!1},e.prototype.acceptNumber=function(){return this.accept("number")},e.prototype.expect=function(e){if(this.accept(e))return!0;throw new Error("expected "+e+" but found "+this.symbol)},e}();function Ht(e,t){void 0===t&&(t=Nt);var n={},r=new At(t.tokens);return r.start(e)?(i(),n):null;function i(){r.expect("every");var e=r.acceptNumber();if(e&&(n.interval=parseInt(e[0],10)),r.isDone())throw new Error("Unexpected end");switch(r.symbol){case"day(s)":n.freq=_n.DAILY,r.nextSymbol()&&(o(),h());break;case"weekday(s)":n.freq=_n.WEEKLY,n.byweekday=[_n.MO,_n.TU,_n.WE,_n.TH,_n.FR],r.nextSymbol(),o(),h();break;case"week(s)":n.freq=_n.WEEKLY,r.nextSymbol()&&(s(),o(),h());break;case"hour(s)":n.freq=_n.HOURLY,r.nextSymbol()&&(s(),h());break;case"minute(s)":n.freq=_n.MINUTELY,r.nextSymbol()&&(s(),h());break;case"month(s)":n.freq=_n.MONTHLY,r.nextSymbol()&&(s(),h());break;case"year(s)":n.freq=_n.YEARLY,r.nextSymbol()&&(s(),h());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":n.freq=_n.WEEKLY;var t=r.symbol.substr(0,2).toUpperCase();if(n.byweekday=[_n[t]],!r.nextSymbol())return;while(r.accept("comma")){if(r.isDone())throw new Error("Unexpected end");var i=l();if(!i)throw new Error("Unexpected symbol "+r.symbol+", expected weekday");n.byweekday.push(_n[i]),r.nextSymbol()}o(),c(),h();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(n.freq=_n.YEARLY,n.bymonth=[a()],!r.nextSymbol())return;while(r.accept("comma")){if(r.isDone())throw new Error("Unexpected end");var d=a();if(!d)throw new Error("Unexpected symbol "+r.symbol+", expected month");n.bymonth.push(d),r.nextSymbol()}s(),h();break;default:throw new Error("Unknown symbol")}}function s(){var e=r.accept("on"),t=r.accept("the");if(e||t)do{var i=d(),s=l(),o=a();if(i)s?(r.nextSymbol(),n.byweekday||(n.byweekday=[]),n.byweekday.push(_n[s].nth(i))):(n.bymonthday||(n.bymonthday=[]),n.bymonthday.push(i),r.accept("day(s)"));else if(s)r.nextSymbol(),n.byweekday||(n.byweekday=[]),n.byweekday.push(_n[s]);else if("weekday(s)"===r.symbol)r.nextSymbol(),n.byweekday||(n.byweekday=[_n.MO,_n.TU,_n.WE,_n.TH,_n.FR]);else if("week(s)"===r.symbol){r.nextSymbol();var c=r.acceptNumber();if(!c)throw new Error("Unexpected symbol "+r.symbol+", expected week number");n.byweekno=[parseInt(c[0],10)];while(r.accept("comma")){if(c=r.acceptNumber(),!c)throw new Error("Unexpected symbol "+r.symbol+"; expected monthday");n.byweekno.push(parseInt(c[0],10))}}else{if(!o)return;r.nextSymbol(),n.bymonth||(n.bymonth=[]),n.bymonth.push(o)}}while(r.accept("comma")||r.accept("the")||r.accept("on"))}function o(){var e=r.accept("at");if(e)do{var t=r.acceptNumber();if(!t)throw new Error("Unexpected symbol "+r.symbol+", expected hour");n.byhour=[parseInt(t[0],10)];while(r.accept("comma")){if(t=r.acceptNumber(),!t)throw new Error("Unexpected symbol "+r.symbol+"; expected hour");n.byhour.push(parseInt(t[0],10))}}while(r.accept("comma")||r.accept("at"))}function a(){switch(r.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function l(){switch(r.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return r.symbol.substr(0,2).toUpperCase();default:return!1}}function d(){switch(r.symbol){case"last":return r.nextSymbol(),-1;case"first":return r.nextSymbol(),1;case"second":return r.nextSymbol(),r.accept("last")?-2:2;case"third":return r.nextSymbol(),r.accept("last")?-3:3;case"nth":var e=parseInt(r.value[1],10);if(e<-366||e>366)throw new Error("Nth out of range: "+e);return r.nextSymbol(),r.accept("last")?-e:e;default:return!1}}function c(){r.accept("on"),r.accept("the");var e=d();if(e){n.bymonthday=[e],r.nextSymbol();while(r.accept("comma")){if(e=d(),!e)throw new Error("Unexpected symbol "+r.symbol+"; expected monthday");n.bymonthday.push(e),r.nextSymbol()}}}function h(){if("until"===r.symbol){var e=Date.parse(r.text);if(!e)throw new Error("Cannot parse until date:"+r.text);n.until=new Date(e)}else r.accept("for")&&(n.count=parseInt(r.value[0],10),r.expect("number"))}}function Wt(e){return e<Tt.HOURLY}(function(e){e[e["YEARLY"]=0]="YEARLY",e[e["MONTHLY"]=1]="MONTHLY",e[e["WEEKLY"]=2]="WEEKLY",e[e["DAILY"]=3]="DAILY",e[e["HOURLY"]=4]="HOURLY",e[e["MINUTELY"]=5]="MINUTELY",e[e["SECONDLY"]=6]="SECONDLY"})(Tt||(Tt={}));var Yt=function(e,t){return void 0===t&&(t=Nt),new _n(Ht(e,t)||void 0)},_t=["count","until","interval","byweekday","bymonthday","bymonth"];It.IMPLEMENTED=[],It.IMPLEMENTED[Tt.HOURLY]=_t,It.IMPLEMENTED[Tt.MINUTELY]=_t,It.IMPLEMENTED[Tt.DAILY]=["byhour"].concat(_t),It.IMPLEMENTED[Tt.WEEKLY]=_t,It.IMPLEMENTED[Tt.MONTHLY]=_t,It.IMPLEMENTED[Tt.YEARLY]=["byweekno","byyearday"].concat(_t);var jt=function(e,t,n,r){return new It(e,t,n,r).toString()},Ft=It.isFullyConvertible,qt=function(){function e(e,t,n,r){this.hour=e,this.minute=t,this.second=n,this.millisecond=r||0}return e.prototype.getHours=function(){return this.hour},e.prototype.getMinutes=function(){return this.minute},e.prototype.getSeconds=function(){return this.second},e.prototype.getMilliseconds=function(){return this.millisecond},e.prototype.getTime=function(){return 1e3*(60*this.hour*60+60*this.minute+this.second)+this.millisecond},e}(),Gt=function(e){function t(t,n,r,i,s,o,a){var l=e.call(this,i,s,o,a)||this;return l.year=t,l.month=n,l.day=r,l}return Et(t,e),t.fromDate=function(e){return new this(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.valueOf()%1e3)},t.prototype.getWeekday=function(){return ht(new Date(this.getTime()))},t.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},t.prototype.getDay=function(){return this.day},t.prototype.getMonth=function(){return this.month},t.prototype.getYear=function(){return this.year},t.prototype.addYears=function(e){this.year+=e},t.prototype.addMonths=function(e){if(this.month+=e,this.month>12){var t=Math.floor(this.month/12),n=Ke(this.month,12);this.month=n,this.year+=t,0===this.month&&(this.month=12,--this.year)}},t.prototype.addWeekly=function(e,t){t>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-t))+7*e:this.day+=-(this.getWeekday()-t)+7*e,this.fixDay()},t.prototype.addDaily=function(e){this.day+=e,this.fixDay()},t.prototype.addHours=function(e,t,n){for(t&&(this.hour+=Math.floor((23-this.hour)/e)*e);;){this.hour+=e;var r=Ze(this.hour,24),i=r.div,s=r.mod;if(i&&(this.hour=s,this.addDaily(i)),Ve(n)||$e(n,this.hour))break}},t.prototype.addMinutes=function(e,t,n,r){for(t&&(this.minute+=Math.floor((1439-(60*this.hour+this.minute))/e)*e);;){this.minute+=e;var i=Ze(this.minute,60),s=i.div,o=i.mod;if(s&&(this.minute=o,this.addHours(s,!1,n)),(Ve(n)||$e(n,this.hour))&&(Ve(r)||$e(r,this.minute)))break}},t.prototype.addSeconds=function(e,t,n,r,i){for(t&&(this.second+=Math.floor((86399-(3600*this.hour+60*this.minute+this.second))/e)*e);;){this.second+=e;var s=Ze(this.second,60),o=s.div,a=s.mod;if(o&&(this.second=a,this.addMinutes(o,!1,n,r)),(Ve(n)||$e(n,this.hour))&&(Ve(r)||$e(r,this.minute))&&(Ve(i)||$e(i,this.second)))break}},t.prototype.fixDay=function(){if(!(this.day<=28)){var e=ut(this.year,this.month-1)[1];if(!(this.day<=e))while(this.day>e){if(this.day-=e,++this.month,13===this.month&&(this.month=1,++this.year,this.year>tt))return;e=ut(this.year,this.month-1)[1]}}},t.prototype.add=function(e,t){var n=e.freq,r=e.interval,i=e.wkst,s=e.byhour,o=e.byminute,a=e.bysecond;switch(n){case Tt.YEARLY:return this.addYears(r);case Tt.MONTHLY:return this.addMonths(r);case Tt.WEEKLY:return this.addWeekly(r,i);case Tt.DAILY:return this.addDaily(r);case Tt.HOURLY:return this.addHours(r,t,s);case Tt.MINUTELY:return this.addMinutes(r,t,s,o);case Tt.SECONDLY:return this.addSeconds(r,t,s,o,a)}},t}(qt);function Bt(e){for(var t=[],n=Object.keys(e),r=0,i=n;r<i.length;r++){var s=i[r];$e(Yn,s)||t.push(s),st(e[s])&&!ot(e[s])&&t.push(s)}if(t.length)throw new Error("Invalid options: "+t.join(", "));return Rt({},e)}function Kt(e){var t=Rt(Rt({},Wn),Bt(e));if(He(t.byeaster)&&(t.freq=_n.YEARLY),!He(t.freq)||!_n.FREQUENCIES[t.freq])throw new Error("Invalid frequency: ".concat(t.freq," ").concat(e.freq));if(t.dtstart||(t.dtstart=new Date((new Date).setMilliseconds(0))),He(t.wkst)?We(t.wkst)||(t.wkst=t.wkst.weekday):t.wkst=_n.MO.weekday,He(t.bysetpos)){We(t.bysetpos)&&(t.bysetpos=[t.bysetpos]);for(var n=0;n<t.bysetpos.length;n++){var r=t.bysetpos[n];if(0===r||!(r>=-366&&r<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(Boolean(t.byweekno)||Qe(t.byweekno)||Qe(t.byyearday)||Boolean(t.bymonthday)||Qe(t.bymonthday)||He(t.byweekday)||He(t.byeaster)))switch(t.freq){case _n.YEARLY:t.bymonth||(t.bymonth=t.dtstart.getUTCMonth()+1),t.bymonthday=t.dtstart.getUTCDate();break;case _n.MONTHLY:t.bymonthday=t.dtstart.getUTCDate();break;case _n.WEEKLY:t.byweekday=[ht(t.dtstart)];break}if(He(t.bymonth)&&!_e(t.bymonth)&&(t.bymonth=[t.bymonth]),He(t.byyearday)&&!_e(t.byyearday)&&We(t.byyearday)&&(t.byyearday=[t.byyearday]),He(t.bymonthday))if(_e(t.bymonthday)){var i=[],s=[];for(n=0;n<t.bymonthday.length;n++){r=t.bymonthday[n];r>0?i.push(r):r<0&&s.push(r)}t.bymonthday=i,t.bynmonthday=s}else t.bymonthday<0?(t.bynmonthday=[t.bymonthday],t.bymonthday=[]):(t.bynmonthday=[],t.bymonthday=[t.bymonthday]);else t.bymonthday=[],t.bynmonthday=[];if(He(t.byweekno)&&!_e(t.byweekno)&&(t.byweekno=[t.byweekno]),He(t.byweekday))if(We(t.byweekday))t.byweekday=[t.byweekday],t.bynweekday=null;else if(Ye(t.byweekday))t.byweekday=[Ae.fromStr(t.byweekday).weekday],t.bynweekday=null;else if(t.byweekday instanceof Ae)!t.byweekday.n||t.freq>_n.MONTHLY?(t.byweekday=[t.byweekday.weekday],t.bynweekday=null):(t.bynweekday=[[t.byweekday.weekday,t.byweekday.n]],t.byweekday=null);else{var o=[],a=[];for(n=0;n<t.byweekday.length;n++){var l=t.byweekday[n];We(l)?o.push(l):Ye(l)?o.push(Ae.fromStr(l).weekday):!l.n||t.freq>_n.MONTHLY?o.push(l.weekday):a.push([l.weekday,l.n])}t.byweekday=Qe(o)?o:null,t.bynweekday=Qe(a)?a:null}else t.bynweekday=null;return He(t.byhour)?We(t.byhour)&&(t.byhour=[t.byhour]):t.byhour=t.freq<_n.HOURLY?[t.dtstart.getUTCHours()]:null,He(t.byminute)?We(t.byminute)&&(t.byminute=[t.byminute]):t.byminute=t.freq<_n.MINUTELY?[t.dtstart.getUTCMinutes()]:null,He(t.bysecond)?We(t.bysecond)&&(t.bysecond=[t.bysecond]):t.bysecond=t.freq<_n.SECONDLY?[t.dtstart.getUTCSeconds()]:null,{parsedOptions:t}}function Zt(e){var t=e.dtstart.getTime()%1e3;if(!Wt(e.freq))return[];var n=[];return e.byhour.forEach((function(r){e.byminute.forEach((function(i){e.bysecond.forEach((function(e){n.push(new qt(r,i,e,t))}))}))})),n}function Vt(e){var t=e.split("\n").map($t).filter((function(e){return null!==e}));return Rt(Rt({},t[0]),t[1])}function Qt(e){var t={},n=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(e);if(!n)return t;var r=n[1],i=n[2];return r&&(t.tzid=r),t.dtstart=bt(i),t}function $t(e){if(e=e.replace(/^\s+|\s+$/,""),!e.length)return null;var t=/^([A-Z]+?)[:;]/.exec(e.toUpperCase());if(!t)return Xt(e);var n=t[1];switch(n.toUpperCase()){case"RRULE":case"EXRULE":return Xt(e);case"DTSTART":return Qt(e);default:throw new Error("Unsupported RFC prop ".concat(n," in ").concat(e))}}function Xt(e){var t=e.replace(/^RRULE:/i,""),n=Qt(t),r=e.replace(/^(?:RRULE|EXRULE):/i,"").split(";");return r.forEach((function(t){var r=t.split("="),i=r[0],s=r[1];switch(i.toUpperCase()){case"FREQ":n.freq=Tt[s.toUpperCase()];break;case"WKST":n.wkst=Hn[s.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var o=Jt(s),a=i.toLowerCase();n[a]=o;break;case"BYWEEKDAY":case"BYDAY":n.byweekday=tn(s);break;case"DTSTART":case"TZID":var l=Qt(e);n.tzid=l.tzid,n.dtstart=l.dtstart;break;case"UNTIL":n.until=bt(s);break;case"BYEASTER":n.byeaster=Number(s);break;default:throw new Error("Unknown RRULE property '"+i+"'")}})),n}function Jt(e){if(-1!==e.indexOf(",")){var t=e.split(",");return t.map(en)}return en(e)}function en(e){return/^[+-]?\d+$/.test(e)?Number(e):e}function tn(e){var t=e.split(",");return t.map((function(e){if(2===e.length)return Hn[e];var t=e.match(/^([+-]?\d{1,2})([A-Z]{2})$/);if(!t||t.length<3)throw new SyntaxError("Invalid weekday string: ".concat(e));var n=Number(t[1]),r=t[2],i=Hn[r].weekday;return new Ae(i,n)}))}var nn=function(){function e(e,t){if(isNaN(e.getTime()))throw new RangeError("Invalid date passed to DateWithZone");this.date=e,this.tzid=t}return Object.defineProperty(e.prototype,"isUTC",{get:function(){return!this.tzid||"UTC"===this.tzid.toUpperCase()},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=mt(this.date.getTime(),this.isUTC);return this.isUTC?":".concat(e):";TZID=".concat(this.tzid,":").concat(e)},e.prototype.getTime=function(){return this.date.getTime()},e.prototype.rezonedDate=function(){return this.isUTC?this.date:wt(this.date,this.tzid)},e}();function rn(e){for(var t=[],n="",r=Object.keys(e),i=Object.keys(Wn),s=0;s<r.length;s++)if("tzid"!==r[s]&&$e(i,r[s])){var o=r[s].toUpperCase(),a=e[r[s]],l="";if(He(a)&&(!_e(a)||a.length)){switch(o){case"FREQ":l=_n.FREQUENCIES[e.freq];break;case"WKST":l=We(a)?new Ae(a).toString():a.toString();break;case"BYWEEKDAY":o="BYDAY",l=qe(a).map((function(e){return e instanceof Ae?e:_e(e)?new Ae(e[0],e[1]):new Ae(e)})).toString();break;case"DTSTART":n=sn(a,e.tzid);break;case"UNTIL":l=mt(a,!e.tzid);break;default:if(_e(a)){for(var d=[],c=0;c<a.length;c++)d[c]=String(a[c]);l=d.toString()}else l=String(a)}l&&t.push([o,l])}}var h=t.map((function(e){var t=e[0],n=e[1];return"".concat(t,"=").concat(n.toString())})).join(";"),u="";return""!==h&&(u="RRULE:".concat(h)),[n,u].filter((function(e){return!!e})).join("\n")}function sn(e,t){return e?"DTSTART"+new nn(new Date(e),t).toString():""}n(1148);function on(e,t){return Array.isArray(e)?!!Array.isArray(t)&&(e.length===t.length&&e.every((function(e,n){return e.getTime()===t[n].getTime()}))):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():e===t}var an=function(){function e(){this.all=!1,this.before=[],this.after=[],this.between=[]}return e.prototype._cacheAdd=function(e,t,n){t&&(t=t instanceof Date?pt(t):yt(t)),"all"===e?this.all=t:(n._value=t,this[e].push(n))},e.prototype._cacheGet=function(e,t){var n=!1,r=t?Object.keys(t):[],i=function(e){for(var n=0;n<r.length;n++){var i=r[n];if(!on(t[i],e[i]))return!0}return!1},s=this[e];if("all"===e)n=this.all;else if(_e(s))for(var o=0;o<s.length;o++){var a=s[o];if(!r.length||!i(a)){n=a._value;break}}if(!n&&this.all){var l=new kt(e,t);for(o=0;o<this.all.length;o++)if(!l.accept(this.all[o]))break;n=l.getValue(),this._cacheAdd(e,n,t)}return _e(n)?yt(n):n instanceof Date?pt(n):n},e}(),ln=Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt([],Fe(1,31),!0),Fe(2,28),!0),Fe(3,31),!0),Fe(4,30),!0),Fe(5,31),!0),Fe(6,30),!0),Fe(7,31),!0),Fe(8,31),!0),Fe(9,30),!0),Fe(10,31),!0),Fe(11,30),!0),Fe(12,31),!0),Fe(1,7),!0),dn=Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt([],Fe(1,31),!0),Fe(2,29),!0),Fe(3,31),!0),Fe(4,30),!0),Fe(5,31),!0),Fe(6,30),!0),Fe(7,31),!0),Fe(8,31),!0),Fe(9,30),!0),Fe(10,31),!0),Fe(11,30),!0),Fe(12,31),!0),Fe(1,7),!0),cn=je(1,29),hn=je(1,30),un=je(1,31),fn=je(1,32),pn=Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt([],fn,!0),hn,!0),fn,!0),un,!0),fn,!0),un,!0),fn,!0),fn,!0),un,!0),fn,!0),un,!0),fn,!0),fn.slice(0,7),!0),yn=Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt([],fn,!0),cn,!0),fn,!0),un,!0),fn,!0),un,!0),fn,!0),fn,!0),un,!0),fn,!0),un,!0),fn,!0),fn.slice(0,7),!0),gn=je(-28,0),mn=je(-29,0),bn=je(-30,0),vn=je(-31,0),wn=Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt([],vn,!0),mn,!0),vn,!0),bn,!0),vn,!0),bn,!0),vn,!0),vn,!0),bn,!0),vn,!0),bn,!0),vn,!0),vn.slice(0,7),!0),xn=Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt([],vn,!0),gn,!0),vn,!0),bn,!0),vn,!0),bn,!0),vn,!0),vn,!0),bn,!0),vn,!0),bn,!0),vn,!0),vn.slice(0,7),!0),kn=[0,31,60,91,121,152,182,213,244,274,305,335,366],Sn=[0,31,59,90,120,151,181,212,243,273,304,334,365],En=function(){for(var e=[],t=0;t<55;t++)e=e.concat(je(7));return e}();function Rn(e,t){var n,r,i=Xe(e,1,1),s=it(e)?366:365,o=it(e+1)?366:365,a=lt(i),l=ht(i),d=Rt(Rt({yearlen:s,nextyearlen:o,yearordinal:a,yearweekday:l},Dn(e)),{wnomask:null});if(Ve(t.byweekno))return d;d.wnomask=Fe(0,s+7);var c=n=Ke(7-l+t.wkst,7);c>=4?(c=0,r=d.yearlen+Ke(l-t.wkst,7)):r=s-c;for(var h=Math.floor(r/7),u=Ke(r,7),f=Math.floor(h+u/4),p=0;p<t.byweekno.length;p++){var y=t.byweekno[p];if(y<0&&(y+=f+1),y>0&&y<=f){var g=void 0;y>1?(g=c+7*(y-1),c!==n&&(g-=7-n)):g=c;for(var m=0;m<7;m++)if(d.wnomask[g]=1,g++,d.wdaymask[g]===t.wkst)break}}if($e(t.byweekno,1)){g=c+7*f;if(c!==n&&(g-=7-n),g<s)for(p=0;p<7;p++)if(d.wnomask[g]=1,g+=1,d.wdaymask[g]===t.wkst)break}if(c){var b=void 0;if($e(t.byweekno,-1))b=-1;else{var v=ht(Xe(e-1,1,1)),w=Ke(7-v.valueOf()+t.wkst,7),x=it(e-1)?366:365,k=void 0;w>=4?(w=0,k=x+Ke(v-t.wkst,7)):k=s-c,b=Math.floor(52+Ke(k,7)/4)}if($e(t.byweekno,b))for(g=0;g<c;g++)d.wnomask[g]=1}return d}function Dn(e){var t=it(e)?366:365,n=Xe(e,1,1),r=ht(n);return 365===t?{mmask:ln,mdaymask:yn,nmdaymask:xn,wdaymask:En.slice(r),mrange:Sn}:{mmask:dn,mdaymask:pn,nmdaymask:wn,wdaymask:En.slice(r),mrange:kn}}function Tn(e,t,n,r,i,s){var o={lastyear:e,lastmonth:t,nwdaymask:[]},a=[];if(s.freq===_n.YEARLY)if(Ve(s.bymonth))a=[[0,n]];else for(var l=0;l<s.bymonth.length;l++)t=s.bymonth[l],a.push(r.slice(t-1,t+1));else s.freq===_n.MONTHLY&&(a=[r.slice(t-1,t+1)]);if(Ve(a))return o;o.nwdaymask=Fe(0,n);for(l=0;l<a.length;l++)for(var d=a[l],c=d[0],h=d[1]-1,u=0;u<s.bynweekday.length;u++){var f=void 0,p=s.bynweekday[u],y=p[0],g=p[1];g<0?(f=h+7*(g+1),f-=Ke(i[f]-y,7)):(f=c+7*(g-1),f+=Ke(7-i[f]+y,7)),c<=f&&f<=h&&(o.nwdaymask[f]=1)}return o}function Cn(e,t){void 0===t&&(t=0);var n=e%19,r=Math.floor(e/100),i=e%100,s=Math.floor(r/4),o=r%4,a=Math.floor((r+8)/25),l=Math.floor((r-a+1)/3),d=Math.floor(19*n+r-s-l+15)%30,c=Math.floor(i/4),h=i%4,u=Math.floor(32+2*o+2*c-d-h)%7,f=Math.floor((n+11*d+22*u)/451),p=Math.floor((d+u-7*f+114)/31),y=(d+u-7*f+114)%31+1,g=Date.UTC(e,p-1,y+t),m=Date.UTC(e,0,1);return[Math.ceil((g-m)/864e5)]}var Mn=function(){function e(e){this.options=e}return e.prototype.rebuild=function(e,t){var n=this.options;if(e!==this.lastyear&&(this.yearinfo=Rn(e,n)),Qe(n.bynweekday)&&(t!==this.lastmonth||e!==this.lastyear)){var r=this.yearinfo,i=r.yearlen,s=r.mrange,o=r.wdaymask;this.monthinfo=Tn(e,t,i,s,o,n)}He(n.byeaster)&&(this.eastermask=Cn(e,n.byeaster))},Object.defineProperty(e.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!1,configurable:!0}),e.prototype.ydayset=function(){return[je(this.yearlen),0,this.yearlen]},e.prototype.mdayset=function(e,t){for(var n=this.mrange[t-1],r=this.mrange[t],i=Fe(null,this.yearlen),s=n;s<r;s++)i[s]=s;return[i,n,r]},e.prototype.wdayset=function(e,t,n){for(var r=Fe(null,this.yearlen+7),i=lt(Xe(e,t,n))-this.yearordinal,s=i,o=0;o<7;o++)if(r[i]=i,++i,this.wdaymask[i]===this.options.wkst)break;return[r,s,i]},e.prototype.ddayset=function(e,t,n){var r=Fe(null,this.yearlen),i=lt(Xe(e,t,n))-this.yearordinal;return r[i]=i,[r,i,i+1]},e.prototype.htimeset=function(e,t,n,r){var i=this,s=[];return this.options.byminute.forEach((function(t){s=s.concat(i.mtimeset(e,t,n,r))})),gt(s),s},e.prototype.mtimeset=function(e,t,n,r){var i=this.options.bysecond.map((function(n){return new qt(e,t,n,r)}));return gt(i),i},e.prototype.stimeset=function(e,t,n,r){return[new qt(e,t,n,r)]},e.prototype.getdayset=function(e){switch(e){case Tt.YEARLY:return this.ydayset.bind(this);case Tt.MONTHLY:return this.mdayset.bind(this);case Tt.WEEKLY:return this.wdayset.bind(this);case Tt.DAILY:return this.ddayset.bind(this);default:return this.ddayset.bind(this)}},e.prototype.gettimeset=function(e){switch(e){case Tt.HOURLY:return this.htimeset.bind(this);case Tt.MINUTELY:return this.mtimeset.bind(this);case Tt.SECONDLY:return this.stimeset.bind(this)}},e}(),On=Mn;function Nn(e,t,n,r,i,s){for(var o=[],a=0;a<e.length;a++){var l=void 0,d=void 0,c=e[a];c<0?(l=Math.floor(c/t.length),d=Ke(c,t.length)):(l=Math.floor((c-1)/t.length),d=Ke(c-1,t.length));for(var h=[],u=n;u<r;u++){var f=s[u];He(f)&&h.push(f)}var p=void 0;p=l<0?h.slice(l)[0]:h[l];var y=t[d],g=dt(i.yearordinal+p),m=ft(g,y);$e(o,m)||o.push(m)}return gt(o),o}function zn(e,t){var n=t.dtstart,r=t.freq,i=t.interval,s=t.until,o=t.bysetpos,a=t.count;if(0===a||0===i)return Pn(e);var l=Gt.fromDate(n),d=new On(t);d.rebuild(l.year,l.month);for(var c=An(d,l,t);;){var h=d.getdayset(r)(l.year,l.month,l.day),u=h[0],f=h[1],p=h[2],y=In(u,f,p,d,t);if(Qe(o))for(var g=Nn(o,c,f,p,d,u),m=0;m<g.length;m++){var b=g[m];if(s&&b>s)return Pn(e);if(b>=n){var v=Un(b,t);if(!e.accept(v))return Pn(e);if(a&&(--a,!a))return Pn(e)}}else for(m=f;m<p;m++){var w=u[m];if(He(w))for(var x=dt(d.yearordinal+w),k=0;k<c.length;k++){var S=c[k];b=ft(x,S);if(s&&b>s)return Pn(e);if(b>=n){v=Un(b,t);if(!e.accept(v))return Pn(e);if(a&&(--a,!a))return Pn(e)}}}if(0===t.interval)return Pn(e);if(l.add(t,y),l.year>tt)return Pn(e);Wt(r)||(c=d.gettimeset(r)(l.hour,l.minute,l.second,0)),d.rebuild(l.year,l.month)}}function Ln(e,t,n){var r=n.bymonth,i=n.byweekno,s=n.byweekday,o=n.byeaster,a=n.bymonthday,l=n.bynmonthday,d=n.byyearday;return Qe(r)&&!$e(r,e.mmask[t])||Qe(i)&&!e.wnomask[t]||Qe(s)&&!$e(s,e.wdaymask[t])||Qe(e.nwdaymask)&&!e.nwdaymask[t]||null!==o&&!$e(e.eastermask,t)||(Qe(a)||Qe(l))&&!$e(a,e.mdaymask[t])&&!$e(l,e.nmdaymask[t])||Qe(d)&&(t<e.yearlen&&!$e(d,t+1)&&!$e(d,-e.yearlen+t)||t>=e.yearlen&&!$e(d,t+1-e.yearlen)&&!$e(d,-e.nextyearlen+t-e.yearlen))}function Un(e,t){return new nn(e,t.tzid).rezonedDate()}function Pn(e){return e.getValue()}function In(e,t,n,r,i){for(var s=!1,o=t;o<n;o++){var a=e[o];s=Ln(r,a,i),s&&(e[a]=null)}return s}function An(e,t,n){var r=n.freq,i=n.byhour,s=n.byminute,o=n.bysecond;return Wt(r)?Zt(n):r>=_n.HOURLY&&Qe(i)&&!$e(i,t.hour)||r>=_n.MINUTELY&&Qe(s)&&!$e(s,t.minute)||r>=_n.SECONDLY&&Qe(o)&&!$e(o,t.second)?[]:e.gettimeset(r)(t.hour,t.minute,t.second,t.millisecond)}var Hn={MO:new Ae(0),TU:new Ae(1),WE:new Ae(2),TH:new Ae(3),FR:new Ae(4),SA:new Ae(5),SU:new Ae(6)},Wn={freq:Tt.YEARLY,dtstart:null,interval:1,wkst:Hn.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},Yn=Object.keys(Wn),_n=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=!1),this._cache=t?null:new an,this.origOptions=Bt(e);var n=Kt(e).parsedOptions;this.options=n}return e.parseText=function(e,t){return Ht(e,t)},e.fromText=function(e,t){return Yt(e,t)},e.fromString=function(t){return new e(e.parseString(t)||void 0)},e.prototype._iter=function(e){return zn(e,this.options)},e.prototype._cacheGet=function(e,t){return!!this._cache&&this._cache._cacheGet(e,t)},e.prototype._cacheAdd=function(e,t,n){if(this._cache)return this._cache._cacheAdd(e,t,n)},e.prototype.all=function(e){if(e)return this._iter(new Mt("all",{},e));var t=this._cacheGet("all");return!1===t&&(t=this._iter(new kt("all",{})),this._cacheAdd("all",t)),t},e.prototype.between=function(e,t,n,r){if(void 0===n&&(n=!1),!ot(e)||!ot(t))throw new Error("Invalid date passed in to RRule.between");var i={before:t,after:e,inc:n};if(r)return this._iter(new Mt("between",i,r));var s=this._cacheGet("between",i);return!1===s&&(s=this._iter(new kt("between",i)),this._cacheAdd("between",s,i)),s},e.prototype.before=function(e,t){if(void 0===t&&(t=!1),!ot(e))throw new Error("Invalid date passed in to RRule.before");var n={dt:e,inc:t},r=this._cacheGet("before",n);return!1===r&&(r=this._iter(new kt("before",n)),this._cacheAdd("before",r,n)),r},e.prototype.after=function(e,t){if(void 0===t&&(t=!1),!ot(e))throw new Error("Invalid date passed in to RRule.after");var n={dt:e,inc:t},r=this._cacheGet("after",n);return!1===r&&(r=this._iter(new kt("after",n)),this._cacheAdd("after",r,n)),r},e.prototype.count=function(){return this.all().length},e.prototype.toString=function(){return rn(this.origOptions)},e.prototype.toText=function(e,t,n){return jt(this,e,t,n)},e.prototype.isFullyConvertibleToText=function(){return Ft(this)},e.prototype.clone=function(){return new e(this.origOptions)},e.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],e.YEARLY=Tt.YEARLY,e.MONTHLY=Tt.MONTHLY,e.WEEKLY=Tt.WEEKLY,e.DAILY=Tt.DAILY,e.HOURLY=Tt.HOURLY,e.MINUTELY=Tt.MINUTELY,e.SECONDLY=Tt.SECONDLY,e.MO=Hn.MO,e.TU=Hn.TU,e.WE=Hn.WE,e.TH=Hn.TH,e.FR=Hn.FR,e.SA=Hn.SA,e.SU=Hn.SU,e.parseString=Vt,e.optionsToString=rn,e}();function jn(e,t,n,r,i,s){var o={},a=e.accept;function l(e,t){n.forEach((function(n){n.between(e,t,!0).forEach((function(e){o[Number(e)]=!0}))}))}i.forEach((function(e){var t=new nn(e,s).rezonedDate();o[Number(t)]=!0})),e.accept=function(e){var t=Number(e);return isNaN(t)?a.call(this,e):!(!o[t]&&(l(new Date(t-1),new Date(t+1)),!o[t]))||(o[t]=!0,a.call(this,e))},"between"===e.method&&(l(e.args.after,e.args.before),e.accept=function(e){var t=Number(e);return!!o[t]||(o[t]=!0,a.call(this,e))});for(var d=0;d<r.length;d++){var c=new nn(r[d],s).rezonedDate();if(!e.accept(new Date(c.getTime())))break}t.forEach((function(t){zn(e,t.options)}));var h=e._result;switch(gt(h),e.method){case"all":case"between":return h;case"before":return h.length&&h[h.length-1]||null;case"after":default:return h.length&&h[0]||null}}var Fn={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function qn(e,t){var n=[],r=[],i=[],s=[],o=Qt(e),a=o.dtstart,l=o.tzid,d=$n(e,t.unfold);return d.forEach((function(e){var t;if(e){var o=Qn(e),a=o.name,d=o.parms,c=o.value;switch(a.toUpperCase()){case"RRULE":if(d.length)throw new Error("unsupported RRULE parm: ".concat(d.join(",")));n.push(Vt(e));break;case"RDATE":var h=null!==(t=/RDATE(?:;TZID=([^:=]+))?/i.exec(e))&&void 0!==t?t:[],u=h[1];u&&!l&&(l=u),r=r.concat(Jn(c,d));break;case"EXRULE":if(d.length)throw new Error("unsupported EXRULE parm: ".concat(d.join(",")));i.push(Vt(c));break;case"EXDATE":s=s.concat(Jn(c,d));break;case"DTSTART":break;default:throw new Error("unsupported property: "+a)}}})),{dtstart:a,tzid:l,rrulevals:n,rdatevals:r,exrulevals:i,exdatevals:s}}function Gn(e,t){var n=qn(e,t),r=n.rrulevals,i=n.rdatevals,s=n.exrulevals,o=n.exdatevals,a=n.dtstart,l=n.tzid,d=!1===t.cache;if(t.compatible&&(t.forceset=!0,t.unfold=!0),t.forceset||r.length>1||i.length||s.length||o.length){var c=new tr(d);return c.dtstart(a),c.tzid(l||void 0),r.forEach((function(e){c.rrule(new _n(Kn(e,a,l),d))})),i.forEach((function(e){c.rdate(e)})),s.forEach((function(e){c.exrule(new _n(Kn(e,a,l),d))})),o.forEach((function(e){c.exdate(e)})),t.compatible&&t.dtstart&&c.rdate(a),c}var h=r[0]||{};return new _n(Kn(h,h.dtstart||t.dtstart||a,h.tzid||t.tzid||l),d)}function Bn(e,t){return void 0===t&&(t={}),Gn(e,Zn(t))}function Kn(e,t,n){return Rt(Rt({},e),{dtstart:t,tzid:n})}function Zn(e){var t=[],n=Object.keys(e),r=Object.keys(Fn);if(n.forEach((function(e){$e(r,e)||t.push(e)})),t.length)throw new Error("Invalid options: "+t.join(", "));return Rt(Rt({},Fn),e)}function Vn(e){if(-1===e.indexOf(":"))return{name:"RRULE",value:e};var t=Be(e,":",1),n=t[0],r=t[1];return{name:n,value:r}}function Qn(e){var t=Vn(e),n=t.name,r=t.value,i=n.split(";");if(!i)throw new Error("empty property name");return{name:i[0].toUpperCase(),parms:i.slice(1),value:r}}function $n(e,t){if(void 0===t&&(t=!1),e=e&&e.trim(),!e)throw new Error("Invalid empty string");if(!t)return e.split(/\s/);var n=e.split("\n"),r=0;while(r<n.length){var i=n[r]=n[r].replace(/\s+$/g,"");i?r>0&&" "===i[0]?(n[r-1]+=i.slice(1),n.splice(r,1)):r+=1:n.splice(r,1)}return n}function Xn(e){e.forEach((function(e){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(e))throw new Error("unsupported RDATE/EXDATE parm: "+e)}))}function Jn(e,t){return Xn(t),e.split(",").map((function(e){return bt(e)}))}function er(e){var t=this;return function(n){if(void 0!==n&&(t["_".concat(e)]=n),void 0!==t["_".concat(e)])return t["_".concat(e)];for(var r=0;r<t._rrule.length;r++){var i=t._rrule[r].origOptions[e];if(i)return i}}}var tr=function(e){function t(t){void 0===t&&(t=!1);var n=e.call(this,{},t)||this;return n.dtstart=er.apply(n,["dtstart"]),n.tzid=er.apply(n,["tzid"]),n._rrule=[],n._rdate=[],n._exrule=[],n._exdate=[],n}return Et(t,e),t.prototype._iter=function(e){return jn(e,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},t.prototype.rrule=function(e){nr(e,this._rrule)},t.prototype.exrule=function(e){nr(e,this._exrule)},t.prototype.rdate=function(e){rr(e,this._rdate)},t.prototype.exdate=function(e){rr(e,this._exdate)},t.prototype.rrules=function(){return this._rrule.map((function(e){return Bn(e.toString())}))},t.prototype.exrules=function(){return this._exrule.map((function(e){return Bn(e.toString())}))},t.prototype.rdates=function(){return this._rdate.map((function(e){return new Date(e.getTime())}))},t.prototype.exdates=function(){return this._exdate.map((function(e){return new Date(e.getTime())}))},t.prototype.valueOf=function(){var e=[];return!this._rrule.length&&this._dtstart&&(e=e.concat(rn({dtstart:this._dtstart}))),this._rrule.forEach((function(t){e=e.concat(t.toString().split("\n"))})),this._exrule.forEach((function(t){e=e.concat(t.toString().split("\n").map((function(e){return e.replace(/^RRULE:/,"EXRULE:")})).filter((function(e){return!/^DTSTART/.test(e)})))})),this._rdate.length&&e.push(ir("RDATE",this._rdate,this.tzid())),this._exdate.length&&e.push(ir("EXDATE",this._exdate,this.tzid())),e},t.prototype.toString=function(){return this.valueOf().join("\n")},t.prototype.clone=function(){var e=new t(!!this._cache);return this._rrule.forEach((function(t){return e.rrule(t.clone())})),this._exrule.forEach((function(t){return e.exrule(t.clone())})),this._rdate.forEach((function(t){return e.rdate(new Date(t.getTime()))})),this._exdate.forEach((function(t){return e.exdate(new Date(t.getTime()))})),e},t}(_n);function nr(e,t){if(!(e instanceof _n))throw new TypeError(String(e)+" is not RRule instance");$e(t.map(String),String(e))||t.push(e)}function rr(e,t){if(!(e instanceof Date))throw new TypeError(String(e)+" is not Date instance");$e(t.map(Number),Number(e))||(t.push(e),gt(t))}function ir(e,t,n){var r=!n||"UTC"===n.toUpperCase(),i=r?"".concat(e,":"):"".concat(e,";TZID=").concat(n,":"),s=t.map((function(e){return mt(e.valueOf(),r)})).join(",");return"".concat(i).concat(s)}const sr={parse(e,t){if(null!=e.rrule){let n=or(e,t);if(n)return{typeData:{rruleSet:n.rruleSet,dateEnv:n.isTimeZoneSpecified?void 0:t},allDayGuess:!n.isTimeSpecified,duration:e.duration}}return null},expand(e,t,n){return e.rruleSet.between((0,l.t)(t.start,-1),(0,l.t)(t.end,1)).map((t=>n.createMarker(e.dateEnv?e.dateEnv.toDate(t):t)))}};function or(e,t){let n,r=!1,i=!1;if("string"===typeof e.rrule){let t=lr(e.rrule);n=t.rruleSet,r=t.isTimeSpecified,i=t.isTimeZoneSpecified}if("object"===typeof e.rrule&&e.rrule){let s=ar(e.rrule,t);n=new tr,n.rrule(s.rrule),r=s.isTimeSpecified,i=s.isTimeZoneSpecified}let s=[].concat(e.exdate||[]),o=[].concat(e.exrule||[]);for(let a of s){let e=(0,l.bx)(a);r=r||!e.isTimeUnspecified,i=i||null!==e.timeZoneOffset,n.exdate(new Date(e.marker.valueOf()-60*(e.timeZoneOffset||0)*1e3))}for(let a of o){let e=ar(a,t);r=r||e.isTimeSpecified,i=i||e.isTimeZoneSpecified,n.exrule(e.rrule)}return{rruleSet:n,isTimeSpecified:r,isTimeZoneSpecified:i}}function ar(e,t){let n=!1,r=!1;function i(e){if("string"===typeof e){let t=(0,l.bx)(e);return t?(n=n||!t.isTimeUnspecified,r=r||null!==t.timeZoneOffset,new Date(t.marker.valueOf()-60*(t.timeZoneOffset||0)*1e3)):null}return e}let s=Object.assign(Object.assign({},e),{dtstart:i(e.dtstart),until:i(e.until),freq:hr(e.freq),wkst:null==e.wkst?(t.weekDow-1+7)%7:hr(e.wkst),byweekday:cr(e.byweekday)});return{rrule:new _n(s),isTimeSpecified:n,isTimeZoneSpecified:r}}function lr(e){let t=Bn(e,{forceset:!0}),n=dr(e);return Object.assign({rruleSet:t},n)}function dr(e){let t=!1,n=!1;function r(e,r,i){let s=(0,l.bx)(i);t=t||!s.isTimeUnspecified,n=n||null!==s.timeZoneOffset}return e.replace(/\b(DTSTART:)([^\n]*)/,r),e.replace(/\b(EXDATE:)([^\n]*)/,r),e.replace(/\b(UNTIL=)([^;\n]*)/,r),{isTimeSpecified:t,isTimeZoneSpecified:n}}function cr(e){return Array.isArray(e)?e.map(hr):hr(e)}function hr(e){return"string"===typeof e?_n[e.toUpperCase()]:e}const ur={rrule:l.n,exrule:l.n,exdate:l.n,duration:l.d};var fr=(0,a.i1)({name:"@fullcalendar/rrule",recurringTypes:[sr],eventRefiners:ur}),pr=n(9325),yr=n(4578),gr={name:"tunniplaan",components:{FullCalendar:s.A},data(){return{popover:null,calendar:null,calendarOptions:{plugins:[fr,Pe],customButtons:{kodutood:{text:"Kodutööd",click:this.changeView},settings:{text:"Seaded",icon:"settings",click:this.showSettings}},hiddenDays:[0,6],locale:o.A,timeZone:"Europe/Tallinn",initialView:"timeGridWeek",nowIndicator:!0,slotMinTime:"08:00",slotMaxTime:"21:00",contentHeight:"auto",slotEventOverlap:!1,allDaySlot:!1,lazyFetching:!0,progressiveEventRendering:!0,eventTextColor:"black",eventClick:this.eventClick,events:this.getEvents,eventSourceSuccess:this.setupEventsView,eventDidMount:this.setupEvent,headerToolbar:{left:"prev,next today",center:"title",right:"timeGridWeek,timeGridDay kodutood settings"}}}},methods:{setupEventsView(e){let t=new Set([0,6]);e.forEach((e=>{const n=new Date(e.start).getDay();6===n?t.delete(6):0===n&&t.clear()})),this.calendar.setOption("hiddenDays",Array.from(t)),this.calendar.setOption("allDaySlot",e.some((e=>e.allDay)))},setupEvent(e){e.event.extendedProps.description&&e.el.setAttribute("data-bs-content",e.event.extendedProps.description)},sizeUpdate(){this.calendar.updateSize(),this.popover&&this.popover.update()},changeView(){pr.A.push("/kodutood")},getWeekRange(e){const t=new Date(e);t.setDate(t.getDate()-t.getDay()+1);const n=new Date(t);n.setDate(n.getDate()+6);const r=e=>e.toLocaleDateString("en-GB");return`${r(t)} - ${r(n)}`},getEvents(e){return Promise.resolve(this.$store.getters["schedule/getEvents"](this.getWeekRange(e.start)))},showSettings(){this.$store.dispatch("changeSettingsVisibility")},refetchEvents(){"visible"===document.visibilityState&&this.$store.dispatch("fetchAllEvents").then((()=>this.calendar.refetchEvents()))},eventClick(e){const t=e.el,n=t.classList.contains("selected");this.clearEventSelection(),n||t.classList.add("selected")},clearEventSelection(){document.querySelectorAll(".fc-event.selected").forEach((e=>{e.classList.remove("selected"),e.blur()}))},handleOutsideClick(e){e.target.closest(".fc-event")||this.clearEventSelection()}},mounted(){this.calendar=this.$refs.fullCalendar.getApi(),this.popover=new yr.AM(document.body,{selector:".fc-event",offset:[0,0],placement:"top",trigger:"focus",html:!0})},created(){window.addEventListener("visibilitychange",this.refetchEvents),window.addEventListener("resize",this.sizeUpdate),window.addEventListener("click",this.handleOutsideClick)},beforeUnmount(){this.popover.dispose(),window.removeEventListener("visibilitychange",this.refetchEvents),window.removeEventListener("resize",this.sizeUpdate),window.removeEventListener("click",this.handleOutsideClick)}},mr=n(1241);const br=(0,mr.A)(gr,[["render",i]]);var vr=br}}]);
//# sourceMappingURL=416.38f62d57.js.map