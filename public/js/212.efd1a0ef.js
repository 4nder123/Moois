"use strict";(self["webpackChunkMoois"]=self["webpackChunkMoois"]||[]).push([[212],{2212:function(e,a,s){s.r(a),s.d(a,{default:function(){return b}});var r=s(6768),t=s(4232),i=s(5130);const l={class:"login-page"},u={class:"form"},o={key:0,class:"error"},n={class:"message"},p={key:0,class:"password-error"};function m(e,a,s,m,d,h){const c=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",l,[(0,r.Lk)("div",u,[m.error?((0,r.uX)(),(0,r.CE)("div",o,(0,t.v_)(m.message),1)):(0,r.Q3)("",!0),(0,r.Lk)("form",{onSubmit:a[0]||(a[0]=(0,i.D$)(((...e)=>m.submit&&m.submit(...e)),["prevent"]))},[a[3]||(a[3]=(0,r.Lk)("input",{type:"email",name:"email",id:"email",placeholder:"email",required:""},null,-1)),a[4]||(a[4]=(0,r.Lk)("input",{type:"password",name:"password",id:"password",placeholder:"parool",required:""},null,-1)),a[5]||(a[5]=(0,r.Lk)("button",{type:"submit"},"registeeri",-1)),(0,r.Lk)("p",n,[a[2]||(a[2]=(0,r.eW)("Kasutaja juba tehtud? ")),(0,r.bF)(c,{to:{name:"login"}},{default:(0,r.k6)((()=>a[1]||(a[1]=[(0,r.eW)("Logi sisse")]))),_:1})]),m.passwordError.length?((0,r.uX)(),(0,r.CE)("div",p,[(0,r.Lk)("ul",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(m.passwordError,((e,a)=>((0,r.uX)(),(0,r.CE)("li",{key:a},(0,t.v_)(e),1)))),128))])])):(0,r.Q3)("",!0)],32)])])}s(4114);var d=s(144),h=s(6695),c=s(1387),k={name:"register",setup(){const e=(0,c.rd)(),a=(0,d.KR)(!1),s=(0,d.KR)(""),r=(0,d.KR)([]),t=e=>(r.value=[],e.length<8&&r.value.push("Parool peab olema vähemalt 8 tähemärki pikk!"),e.length>64&&r.value.push("Parool ei tohi olla pikem kui 64 tähemärki!"),e.includes(" ")&&r.value.push("Parool ei tohi sisaldada tühikuid!"),/[A-Z]/.test(e)||r.value.push("Parool peab sisaldama suurtähte!"),/[a-z]/.test(e)||r.value.push("Parool peab sisaldama väiketähte!"),/[0-9]/.test(e)||r.value.push("Parool peab sisaldama numbrit!"),0===r.value.length),i=async r=>{const i=new FormData(r.target),l=Object.fromEntries(i.entries());if(t(l.password))try{await h.A.post("/api/user/register",l),await e.push({name:"login",params:{email:l.email,success:!0}})}catch(u){a.value=!0,409===u.response?.status?s.value="Kasutaja juba olemas!":s.value="Registreerimise ajal tekkis viga. Palun proovige hiljem."}};return{submit:i,error:a,message:s,passwordError:r}}},v=s(1241);const g=(0,v.A)(k,[["render",m],["__scopeId","data-v-1530ba56"]]);var b=g}}]);
//# sourceMappingURL=212.efd1a0ef.js.map